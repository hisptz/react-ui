(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1069:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(444)},1273:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(444).configure)([__webpack_require__(1274),__webpack_require__(1275)],module,!1)}).call(this,__webpack_require__(218)(module))},1274:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1274},1275:function(module,exports,__webpack_require__){var map={"./components/ChartAnalytics/ChartAnalytics.stories.tsx":1297,"./components/ConfigurationStepper/configurationStepper.stories.tsx":1306,"./components/DataConfigurationArea/DataConfigurationArea.stories.tsx":1311,"./components/DataConfigurationArea/components/CustomAccordion/CustomAccordion.stories.tsx":1279,"./components/DataConfigurationArea/components/DataSource/DataSource.stories.tsx":1280,"./components/DataSourceSelector/DataSourceSelector.stories.tsx":1299,"./components/FormField/FormField.stories.tsx":1300,"./components/Modals/Modal.stories.tsx":1307,"./components/OrgUnitSelector/OrgUnitSelector.stories.tsx":1294,"./components/PeriodSelector/PeriodSelector.stories.tsx":1295};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1275},1276:function(module,exports,__webpack_require__){},1277:function(module,exports,__webpack_require__){},1278:function(module,exports,__webpack_require__){},1279:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BasicAccordion",(function(){return BasicAccordion})),__webpack_require__.d(__webpack_exports__,"EditableTitle",(function(){return EditableTitle})),__webpack_require__.d(__webpack_exports__,"Deletable",(function(){return Deletable}));var _home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_DataSource__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(0),__webpack_require__(80)),_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(191),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_index__WEBPACK_IMPORTED_MODULE_3__.a,Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},args))},BasicAccordion=Template.bind({});BasicAccordion.args={id:"1",title:"Accordion",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"column ",style:{gap:16},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"1",label:"DataSource 1",selected:!1}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"2",label:"DataSource 2",selected:!1}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"3",label:"DataSource 3",selected:!1})]})};var EditableTitle=Template.bind({});EditableTitle.args={id:"1",title:"Accordion",editableTitle:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"column ",style:{gap:16},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"1",label:"DataSource 1",selected:!1}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"2",label:"DataSource 2",selected:!1}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"3",label:"DataSource 3",selected:!1})]})};var Deletable=Template.bind({});Deletable.args={id:"1",title:"Accordion",editableTitle:!0,deletable:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"column ",style:{gap:16},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"1",label:"DataSource 1",selected:!1}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"2",label:"DataSource 2",selected:!1}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_DataSource__WEBPACK_IMPORTED_MODULE_2__.a,{id:"3",label:"DataSource 3",selected:!1})]})},__webpack_exports__.default={title:"Components/DataConfigurationArea/DataConfigurationAreaGroup",component:_index__WEBPACK_IMPORTED_MODULE_3__.a,decorators:[function(AccordionStory){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{width:"100%",height:"100%",padding:"24px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(AccordionStory,{})})}]},BasicAccordion.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <CustomAccordion {...args} />"}},BasicAccordion.parameters),EditableTitle.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <CustomAccordion {...args} />"}},EditableTitle.parameters),Deletable.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <CustomAccordion {...args} />"}},Deletable.parameters)},1280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BasicDataSource",(function(){return BasicDataSource})),__webpack_require__.d(__webpack_exports__,"WithSubLabel",(function(){return WithSubLabel})),__webpack_require__.d(__webpack_exports__,"WithIcon",(function(){return WithIcon})),__webpack_require__.d(__webpack_exports__,"Selected",(function(){return Selected}));var _home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_dhis2_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_index__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(80)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_index__WEBPACK_IMPORTED_MODULE_3__.a,Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},args))},BasicDataSource=Template.bind({});BasicDataSource.args={id:"1",label:"Data Source 1"};var WithSubLabel=Template.bind({});WithSubLabel.args={id:"1",label:"Data Source 1",subLabel:"This is a data source",onDelete:function onDelete(id){console.log(id)}};var WithIcon=Template.bind({});WithIcon.args={id:"1",label:"Data Source 1",subLabel:"This is a data source",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_dhis2_ui__WEBPACK_IMPORTED_MODULE_1__.p,{}),onDelete:function onDelete(id){console.log(id)}};var Selected=Template.bind({});Selected.args={id:"1",label:"Data Source 1",subLabel:"This is a data source",selected:!0,onDelete:function onDelete(id){console.log(id)}},__webpack_exports__.default={title:"Components/DataConfigurationArea/DataConfigurationAreaItem",component:_index__WEBPACK_IMPORTED_MODULE_3__.a},BasicDataSource.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <DataSource {...args} />"}},BasicDataSource.parameters),WithSubLabel.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <DataSource {...args} />"}},WithSubLabel.parameters),WithIcon.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <DataSource {...args} />"}},WithIcon.parameters),Selected.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <DataSource {...args} />"}},Selected.parameters)},1293:function(module,exports,__webpack_require__){},1294:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"SingleSelection",(function(){return SingleSelection})),__webpack_require__.d(__webpack_exports__,"WithUserOptions",(function(){return WithUserOptions})),__webpack_require__.d(__webpack_exports__,"WithLevels",(function(){return WithLevels})),__webpack_require__.d(__webpack_exports__,"WithGroups",(function(){return WithGroups})),__webpack_require__.d(__webpack_exports__,"WithLevelsAndGroups",(function(){return WithLevelsAndGroups})),__webpack_require__.d(__webpack_exports__,"WithAllOptions",(function(){return WithAllOptions}));var _home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_index__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(0),__webpack_require__(233)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_index__WEBPACK_IMPORTED_MODULE_2__.a,Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},args))},Default=Template.bind({});Default.args={value:{orgUnits:[]},onUpdate:function onUpdate(value){console.log(value)}};var SingleSelection=Template.bind({});SingleSelection.args={value:{orgUnits:[]},onUpdate:function onUpdate(value){console.log(value)},singleSelection:!0};var WithUserOptions=Template.bind({});WithUserOptions.args={value:{orgUnits:[]},onUpdate:function onUpdate(value){console.log(value)},showUserOptions:!0};var WithLevels=Template.bind({});WithLevels.args={value:{orgUnits:[]},onUpdate:function onUpdate(value){console.log(value)},showLevels:!0};var WithGroups=Template.bind({});WithGroups.args={value:{orgUnits:[]},onUpdate:function onUpdate(value){console.log(value)},showGroups:!0};var WithLevelsAndGroups=Template.bind({});WithLevelsAndGroups.args={value:{orgUnits:[]},onUpdate:function onUpdate(value){console.log(value)},showLevels:!0,showGroups:!0};var WithAllOptions=Template.bind({});WithAllOptions.args={value:{orgUnits:[]},onUpdate:function onUpdate(value){console.log(value)},showUserOptions:!0,showLevels:!0,showGroups:!0},__webpack_exports__.default={title:"Components/Organisation Unit Selector",component:_index__WEBPACK_IMPORTED_MODULE_2__.a},Default.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <OrgUnitSelector {...args} />"}},Default.parameters),SingleSelection.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <OrgUnitSelector {...args} />"}},SingleSelection.parameters),WithUserOptions.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <OrgUnitSelector {...args} />"}},WithUserOptions.parameters),WithLevels.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <OrgUnitSelector {...args} />"}},WithLevels.parameters),WithGroups.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <OrgUnitSelector {...args} />"}},WithGroups.parameters),WithLevelsAndGroups.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <OrgUnitSelector {...args} />"}},WithLevelsAndGroups.parameters),WithAllOptions.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <OrgUnitSelector {...args} />"}},WithAllOptions.parameters)},1295:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Ethiopian",(function(){return Ethiopian})),__webpack_require__.d(__webpack_exports__,"ExcludedFixedPeriodTypes",(function(){return ExcludedFixedPeriodTypes})),__webpack_require__.d(__webpack_exports__,"ExcludedRelativePeriodTypes",(function(){return ExcludedRelativePeriodTypes})),__webpack_require__.d(__webpack_exports__,"ExcludedPeriodTypes",(function(){return ExcludedPeriodTypes})),__webpack_require__.d(__webpack_exports__,"SelectedPeriods",(function(){return SelectedPeriods}));var _home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(0),__webpack_require__(89)),_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(234),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_index__WEBPACK_IMPORTED_MODULE_3__.a,Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},args))},Default=Template.bind({});Default.args={onSelect:function onSelect(_ref){var items=_ref.items;console.log(items)},selectedPeriods:[],excludedPeriodTypes:[],calendar:_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__.a.GREGORIAN};var Ethiopian=Template.bind({});Ethiopian.args={onSelect:function onSelect(_ref2){var items=_ref2.items;console.log(items)},selectedPeriods:[],excludedPeriodTypes:[],calendar:_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__.a.ETHIOPIAN};var ExcludedFixedPeriodTypes=Template.bind({});ExcludedFixedPeriodTypes.args={onSelect:function onSelect(_ref3){var items=_ref3.items;console.log(items)},selectedPeriods:[],excludedPeriodTypes:[],calendar:_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__.a.GREGORIAN,excludeFixedPeriods:!0};var ExcludedRelativePeriodTypes=Template.bind({});ExcludedRelativePeriodTypes.args={onSelect:function onSelect(_ref4){var items=_ref4.items;console.log(items)},selectedPeriods:[],excludedPeriodTypes:[],calendar:_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__.a.GREGORIAN,excludeRelativePeriods:!0};var ExcludedPeriodTypes=Template.bind({});ExcludedPeriodTypes.args={onSelect:function onSelect(_ref5){var items=_ref5.items;console.log(items)},selectedPeriods:[],excludedPeriodTypes:["RelativeWeek","RelativeMonth","Monthly","Weekly"],calendar:_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__.a.GREGORIAN};var SelectedPeriods=Template.bind({});SelectedPeriods.args={onSelect:function onSelect(_ref6){var items=_ref6.items;console.log(items)},selectedPeriods:[{id:"2020",name:"2020",type:"Fixed"},{id:"202001",name:"January 2020",type:"Fixed"}],excludedPeriodTypes:[],calendar:_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__.a.GREGORIAN},__webpack_exports__.default={title:"Components/Period Selector",component:_index__WEBPACK_IMPORTED_MODULE_3__.a,argTypes:{selectedPeriods:{control:"array"},calendar:{control:"radio",options:[_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__.a.GREGORIAN,_components_CalendarSpecificPeriodDimension_constants_calendar__WEBPACK_IMPORTED_MODULE_2__.a.ETHIOPIAN]}}},Default.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <PeriodSelector {...args} />"}},Default.parameters),Ethiopian.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <PeriodSelector {...args} />"}},Ethiopian.parameters),ExcludedFixedPeriodTypes.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <PeriodSelector {...args} />"}},ExcludedFixedPeriodTypes.parameters),ExcludedRelativePeriodTypes.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <PeriodSelector {...args} />"}},ExcludedRelativePeriodTypes.parameters),ExcludedPeriodTypes.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <PeriodSelector {...args} />"}},ExcludedPeriodTypes.parameters),SelectedPeriods.parameters=Object(_home_runner_work_react_ui_react_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <PeriodSelector {...args} />"}},SelectedPeriods.parameters)},1297:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"LinkedChart",(function(){return LinkedChart}));var objectSpread2=__webpack_require__(7),react=__webpack_require__(0),es=__webpack_require__(13),slicedToArray=__webpack_require__(31),highcharts=__webpack_require__(607),highcharts_default=__webpack_require__.n(highcharts),highcharts_react_min=__webpack_require__(608),highcharts_react_min_default=__webpack_require__.n(highcharts_react_min),CHART_TYPES=[{type:"column",description:"Column chart",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QgBCi4J5kx6fQAAAF5JREFUaN7t1sEJwCAMQNEojtMxOrZjdJ+6QA9CKaHk/bMHHxE1QpIya+k7mNe9te48Hvfa/z4BAIDqgPHV7WACAAAAAAAAr17ihL+9IwQAAAAAAAAAAAAAAAAgSWVa3dEJTJ4U+r4AAAAASUVORK5CYII="},{type:"line",description:"Line chart",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGpSURBVFiF7Zg9S8NQFIbfJjdJFRzt0NXFj9oPQfwCcat2VFz9G9Z/UP0jpQgODkrBQRR1cNBqRScHUYe6ilKbpC7toHipJ/dckqHPGMLl4eQ95x4CRJwYAORL5/VqcT4VpsjKztmII+xd1/NHhWncvzexfrQ1/Wh0PCfClAMAx7IrhVwyvb2RG1jOJjND8XYZAIywxbq0XD+1mEqYg47A0mTCbLbaGSBCgo6I3ZzUG57r+Ti+bXi2ZVwDgAhbrMvnl796cPW6v3f5lI4LUXM/WmuAZkFZ8P9693Bz9hnA1O/nWj+xLPgUtArKgk9BbwUlwaegNYOy4JPJly7azG5skCpI6Uqu80gZ5OhK6nkkQY6upJ5HqyBDV1LPI2WQrSup50W5iyOzzcjQvs2ojibtFVQdTdoFVUeT/goqjibtGVQdTVJBrntXtin/F+kn5r53gyIV5L53gyKvIPO9GxRpBqnh5t4VewpSw+1YdqWQTaYXxofN07u3TLX2UgYwoyrINgd1ZZZNUFdm2QY19674g/4+qEBfUJXIC3Z+okeySR6qxbmxsCV68g24XGzi2T5o8AAAAABJRU5ErkJggg=="},{type:"bar",description:"Bar chart",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QgBCi0ogQg54AAAAF1JREFUaN7t1sENABEARUHUowxlK0M/uxU4kAhi3nUddiKRH4Ik7Sx2v9T2bfmjkuPI8XT7DQAAAAAAvA2QrhlzgyPNKwQAAAAAYMxJJ425RWPQKwQAAAAAIEma7gd8qAk6zZ+mSwAAAABJRU5ErkJggg=="},{type:"area",description:"Area chart",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QgBCigg8qRFlwAABGRJREFUaN7tmF1MW2UYx//v+ejpJ+uKVArrB1K+JnM1GwIGHYnxwk4mF154Rbj2wsGFCashkBnjLkxG4kxMjJnGmMy4RAQ7EmdCh94MXPy4IYtL1opCKCsc6MeBlnNeL5Als3z0tHXpSfq/anrePu/zO//3ed/nLVBWWUWTPxD07X7mtAjw6tBkN8uwX1DQTwH8qjmQ3tFpq7yVHCGEDDAsA1mWHz5jtALRc+FGL81IC4IgvDlzxgOTyfTIc67gN5ROXSaUhhjK3hq/9Eq46C4MTXkoiyuUKmedTieueBkANGtcQSBKRpoUdLoOAG+k02l97/DUXXlbngKY8cn3/bcKhTgXCJ6nhL6n1+v5rzrtB47lCphkjCFMx/UuB7cbZyDMNK1EH7jjifjAa+/cSAIkRBX5a7Vu+QNBH0fIhyyYdnedix/zKIf+Ji+QnkCwH8D58e5jj3w/5lEAj00P2NAd500NkfWza+L6S2rcOhcIjgAYtZjN21+22ThAySkn1SD+QNBHgKuNjQ0A0vuOC1kyCLUaARj1ubi1u6UShqkWT9VhwpJRlRuntrhpOjVjt1fhg2NpVS/gMLcUWWmy25/AJ61GABnVq0QVCM1IMwajwbgzWf7ay63PnBQiS/OOyamoi6sMIcevddjZYm+xuRRzUUB6AsF+AvR/0+0s2QOTUVfcpSvu0FOV0B8djmrVxV0yjvSOTlspi6DZbNZ/3Kwr+V5sXxAqb33E85x351CCNkF6Lnw3QCh9/XqXQweNiNnr0kIIuez11msGIqvY/YGgjyVkUgvFDSYDzvSgOsuR3tFpq45lrlmPWgU1xT0kLj12hreiv4Cr/AE643JzliNKOjXA87zzc18Fn0uw4XgKf61NYFFJo08EBK4CZqEJZr0b71qMRU9+OJ5CLHkbic0FcEdsMCgcNvdbWoJOlwZwaBaDK/OIJOdwoq4eJ+u9SG5KWIhGsRiLIBKbQ18MqDA0wCx4cMnqKAhgSFxCLHEbke0NPOWowYuu52GzWPD9z7NYy7dpHEnIWBQnkWIz8LfvBAQAk96AZpcbzS43AGBhJYrl1Rgi0Z/QJ0p5uTW4Mo916TdECUWLy4UW92noOL7wpnFwZR73k3NodrrwTL33wKDOKjucVXacbmpR5dZIQkYsOYsN6Q9smyrQ1tKIekdtcZrGiykei+K3SJEkXj7VhieP2lQtjVzdim/dxf3tDdRV16L9uPp5DgR5ezWMexszqKm0o+tE54Eu5Kq93FpaDaPGXgVvrQ8mvaF4TePFFI+/1yYQU0ScOfksnFX2/2Ub/a9bRe1+h8Ql3BNv/uvCC0Vx4bGe7KwQt3KVv5ujGwl0Pt2ac5GVHIhQ8adPMEqs/7nOvNdpyTSNBt6gSYgsEArt6iEI4aUwgbylpeQJL4WzQHghGSYM3dQSCC8kwzn/i6LZG2IZpAxSBimDlEHKIPneRxJSynzzzqwmEhcT8b1BFCihTAZYXl3TjAsKlBDKKlH9A2uhxAYqDYPmAAAAAElFTkSuQmCC"},{type:"pie",description:"Pie chart",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAHAklEQVRoQ92ae0xTVxjAv3NvC4ULLbblrSgIRofgqlGnMJ1u0cTEbSwxW+bE6NR/dGb44KFG4/jDIDObJCbLeMzpmNtEh8sSdeqmImOLgCKIPOTdIVBBSil90Nu7nGKhQMu9tw+WrH/2fvc73+98j/Odcy6C/8kPuZPj47z9s40E+Q5hRklmhp6JEJJj/Uvqm/0YBGAUCoeMAmGfTiT8xYTMeVnpZ6vdNb7LINvPpSUOG5gcAUnE0mazFzZMKpYwARSFKJGPxc6gS1dgbmQEDGqHQD2oBf2QzvK/gfJhekXeqgGJ7+4TB/KKXIFyGmRz7oFPvUlhpslM+4kpCuaFz4KgGVKQ+vtPsufZyVOw7s3XISQ4cPRZ34t+aGpug1blM9Bph2DQn6KVYuqrE4fP7nEGiDfI5tyD7wtI4mvGzIijQsNgfsQcu8bbGmMPxPY5hnpS9xSaWtphwI+ilVLxoaz0/JN8gHiBbMlNrUQIFGEyOSxf8ApYQ4dtQDYQ6/sY6O/yKlCpeqEjUNZ65Pj5SDbd1uecQHASm4CsIwlSlBAXD7MCg7jqt8hxBbEqbe/ohJKycngh8qaVUkrBpSiwguBQEpJkob+PL7lWsZizF/iElr1Zwd65V1YOKp0eGoNlaWyhNiWIJR8IdCFUKkeJcfHgJRDy8oRVmK9HrO8ZjUa4dacMuvr6oT48aEoYhyA4nGhC2BQyQ0quVSxxCsBVEOv7V2/cgc4BDTQGB8Q7CjOHIFvzUnViyk+0fukypz3hLhDsmWs370K7iaY/OXlRYG9W7YIk56VWCghSsXFlglM5MXEgZ0NrYom+euMutAaI24589t2ciWNMAsF5QSL0w+pFCt7VyVH8uQME68YLaOlfFVAbETopXyaBbC1IU4fOkIldzQtXq5ajScH50qTTTwqxcSC47SAR8UVS4iq3hJS7csQWqqtbBb/dKoG68KAztu3MOJDtBRmaiOBgv5WxcS5VKU/kiK3O0rJyqHreS+/OGkv8URDcxZqMTMmG5StZeye+lO7KEdtW5terv0NdVNgma9c8CoIrlZiiFG+vSORrJ6u8u0HwgBevXIMmkVCVkXnB0i+NgmwrSDcooud5zY+YzWoYXwFPgNyvqIKHyk5mV/YlYhQEr+LDQLZ6IqzwIJ4Awb0YDq+KsLiEnCNZf1o8Yq1WH721nu9kc5L3BAge+Nz3l6FSFlt8OjM7yQKyJffgbZkkYNWGZa+xdsOcLJ8g5CmQn4qvQw0Zps7MOh1gMTw5L7UxKjQs2t1l1xPriO0cXb95Fyq13oZD2bmiEY/kHXwRHxkdsGhutDMTzvoO9sjSJfEgDZCwyvIRqK1/Cg+6TMz+nG+JaQPhYyAf2eeCwOkDedJAw63bwxAzLwZCgvltk6eCamvrAGV3tan42IfCafEINsYTMI9r66B/sHkMBCd7uDwwes2ri/l4lbesu2GqqmpARzdoLh3eLp6W8mtL7E6Yh1WVYGCethVl7JozLQviRNe5C6akpBS8pA1nig6k7LGAeLpFsReDrsL096uhuroG/OX18YX79lWPNY3fZBgUc2M80jQ6SiZXYJqaW6Cnt4W5fPS9sabx5epeKaEoxUYPtPFTVQVnYSoqKsBEtqiKMnaMb+M9ubFiK298YUbDKqRhU+HeFMt1xLgmcVtBumZ2cIjbt7psIHzXGVx2h4xK+vLRD0bPuKbl8IELCFcYvd4A9++Xj1Yrq+7Jx0H5aeowmVzs6cXR2QJQU/sYNNqOcd6YFFr4D08c0HH1iFXOUc50dfdAY0MjeAU2pBWlpIy7CLK7kcIbLaFAsHrjCvccmfIFsRdmmkEtVD+qAtJXaVnJJ+p0fIidn6aW+FLidW44xHYGxBYmKjISunu6wUB3TwophzlifTByrSBoCpXKyf8qX2xhBCID4+PXugiv4vYmhvWih0TEhXC5HCUsjHP5eoGvZ4ymYSitqYbmFgFDA6RPzAtbfayHDSNXb0Sh2Ici1zh59cYXAMtr9Tr440ElaPQ6o9FkSi7cmf3jVHpYQaxNpQkJHpEEIU5YyP8ylC9Ih6oHSmseAW02DwgYU3z+jlNtbDo4gViV4GqGEFodLg+EZfMXuPXE3uoFDNDT3w8Mw9w5vzP7DTYA1mR3pGDkgpT4mmG4fzDAZkyfRgN17a3Q/KwTEEIDJrN5F1socS6/bIPj00kBQR7HQBKKgpiZsyAowP4nHPZ0YeN7+vugUdkBaq32JQB9rHDn51+yjc27anFR+LJrziFJMpamactHNTKJhPHx8kYysXicit6BAdAZDUyvWm0JaZIkjTRNPxZ4ob0FyVn3uIznSIZXjrANhNcePYOSCEDvIoTCGWAsnzmNxTF6zjDMP2ZgikWI+ZlLErON6XSOcFU83XL/AulaPmAVvMQfAAAAAElFTkSuQmCC"}];function getChartTitle(favoriteObject,interventionName){return"".concat(favoriteObject.title||favoriteObject.displayName||favoriteObject.name).concat(interventionName?" : ".concat(interventionName):"")}var lodash=__webpack_require__(5);function getAllowedChartType(chartType){var newChartType="";switch(chartType){case"radar":case"dotted":newChartType="line";break;default:var splitedChartType=chartType.split("_");newChartType=splitedChartType.length>1?splitedChartType[1]:splitedChartType[0]}return newChartType}try{getAllowedChartType.displayName="getAllowedChartType",getAllowedChartType.__docgenInfo={description:"",displayName:"getAllowedChartType",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-allowed-chart-types.helper.tsx#getAllowedChartType"]={docgenInfo:getAllowedChartType.__docgenInfo,name:"getAllowedChartType",path:"src/components/ChartAnalytics/helper/get-allowed-chart-types.helper.tsx#getAllowedChartType"})}catch(__react_docgen_typescript_loader_error){}function getChartAttributeOptions(chartConfiguration){var chartOptions={renderTo:chartConfiguration.renderId,zoomType:"xy",type:getAllowedChartType(chartConfiguration.type)};return"pie"===chartConfiguration.type?(chartOptions.plotBackgroundColor=null,chartOptions.plotBorderWidth=null,chartOptions.plotShadow=!1):"radar"===chartConfiguration.type&&(chartOptions.polar=!0),chartOptions}try{getChartAttributeOptions.displayName="getChartAttributeOptions",getChartAttributeOptions.__docgenInfo={description:"",displayName:"getChartAttributeOptions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-chart-attribute-options.helper.tsx#getChartAttributeOptions"]={docgenInfo:getChartAttributeOptions.__docgenInfo,name:"getChartAttributeOptions",path:"src/components/ChartAnalytics/helper/get-chart-attribute-options.helper.tsx#getChartAttributeOptions"})}catch(__react_docgen_typescript_loader_error){}var defineProperty=__webpack_require__(291);function getPlotOptions(chartConfiguration){var plotOptionChartType=getAllowedChartType(chartConfiguration.type),plotOptions={series:{cursor:"pointer",point:{events:{click:function click(){var clickedChart=(window.clickedCharts||{})[this.id],currentColor=this.color;clickedChart?(window.clickedCharts||{})[this.id]=null:(window.clickedCharts||(window.clickedCharts={}),window.clickedCharts=Object(objectSpread2.a)(Object(objectSpread2.a)({},window.clickedCharts),{},Object(defineProperty.a)({},this.id,{color:this.color}))),this.update({color:clickedChart?"#f00"!==currentColor?"#f00":clickedChart.color:"#f00"},!0,!1)}}}}};if(plotOptionChartType)switch(plotOptionChartType){case"solidgauge":case"gauge":plotOptions[plotOptionChartType]={dataLabels:{y:5,borderWidth:0,useHTML:!0}};break;case"pie":plotOptions[plotOptionChartType]={borderWidth:0,allowPointSelect:!0,cursor:"pointer",showInLegend:!chartConfiguration.hideLegend};break;default:plotOptions[""!==plotOptionChartType?plotOptionChartType:"series"]={showInLegend:!chartConfiguration.hideLegend,colorByPoint:!0},"stacked_column"!==chartConfiguration.type&&"stacked_bar"!==chartConfiguration.type&&"area"!==chartConfiguration.type||(plotOptions[plotOptionChartType].stacking=chartConfiguration.percentStackedValues?"percent":"normal"),"dotted"===chartConfiguration.type&&(plotOptions.line={lineWidth:0,states:{hover:{enabled:!1}}})}return plotOptions}try{getPlotOptions.displayName="getPlotOptions",getPlotOptions.__docgenInfo={description:"",displayName:"getPlotOptions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-chart-plot-options.helper.tsx#getPlotOptions"]={docgenInfo:getPlotOptions.__docgenInfo,name:"getPlotOptions",path:"src/components/ChartAnalytics/helper/get-chart-plot-options.helper.tsx#getPlotOptions"})}catch(__react_docgen_typescript_loader_error){}function getChartSubtitleObject(chartConfiguration,analyticsObject){return chartConfiguration.hideSubtitle?null:{text:Object(lodash.map)(chartConfiguration.zAxisType,(function(zAxis){return Object(lodash.map)(analyticsObject&&analyticsObject.metaData&&analyticsObject.metaData[zAxis]||[],(function(itemId){return analyticsObject&&analyticsObject.metaData&&analyticsObject.metaData.names&&analyticsObject.metaData.names[itemId]||[]})).join(", ")})).join(" - "),align:"left",style:{fontWeight:"600",fontSize:"13px"}}}function getChartTitleObject(chartConfiguration){return chartConfiguration.hideTitle?null:{text:chartConfiguration.title,align:"left",style:{fontWeight:"500",fontSize:"16px"}}}try{getChartTitleObject.displayName="getChartTitleObject",getChartTitleObject.__docgenInfo={description:"",displayName:"getChartTitleObject",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-chart-title-object.helper.tsx#getChartTitleObject"]={docgenInfo:getChartTitleObject.__docgenInfo,name:"getChartTitleObject",path:"src/components/ChartAnalytics/helper/get-chart-title-object.helper.tsx#getChartTitleObject"})}catch(__react_docgen_typescript_loader_error){}function getTooltipOptions(chartConfiguration){var tooltipChartType=getAllowedChartType(chartConfiguration.type),tooltipObject={};if(tooltipChartType)switch(tooltipChartType){case"solidgauge":tooltipObject={enabled:!1};break;case"pie":tooltipObject={pointFormat:"{series.name}<br/> <b>{point.y}</b> ( {point.percentage:.1f} % )"};break;default:if("stacked_column"===chartConfiguration.type)tooltipObject={headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"};else tooltipObject={enabled:!0}}return tooltipObject}try{getTooltipOptions.displayName="getTooltipOptions",getTooltipOptions.__docgenInfo={description:"",displayName:"getTooltipOptions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-chart-tooltip-options.helper.tsx#getTooltipOptions"]={docgenInfo:getTooltipOptions.__docgenInfo,name:"getTooltipOptions",path:"src/components/ChartAnalytics/helper/get-chart-tooltip-options.helper.tsx#getTooltipOptions"})}catch(__react_docgen_typescript_loader_error){}var toConsumableArray=__webpack_require__(45);function getSanitizedanalyticsBasedOnConfiguration(analyticsObject,chartConfiguration){return chartConfiguration.cumulativeValues?function getCumulativeFormatForAnalytics(analyticsObject,xAxisType,yAxisType){var newAnalyticsObject=Object(lodash.clone)(analyticsObject);if(analyticsObject){var yAxisDimensionArray=analyticsObject.metadata[yAxisType],xAxisDimensionArray=Object(toConsumableArray.a)(Object(lodash.reverse)(Object(toConsumableArray.a)(analyticsObject.metadata[xAxisType]))),yAxisDimensionIndex=Object(lodash.findIndex)(analyticsObject.headers,Object(lodash.find)(analyticsObject.headers,["name",yAxisType])),xAxisDimensionIndex=Object(lodash.findIndex)(analyticsObject.headers,Object(lodash.find)(analyticsObject.headers,["name",xAxisType])),dataValueIndex=Object(lodash.findIndex)(analyticsObject.headers,Object(lodash.find)(analyticsObject.headers,["name","value"])),newRows=[];yAxisDimensionArray.forEach((function(yAxisDimensionValue){var initialValue=0;xAxisDimensionArray.forEach((function(xAxisDimensionValue){analyticsObject.rows.forEach((function(row){if(row[yAxisDimensionIndex]===yAxisDimensionValue&&row[xAxisDimensionIndex]===xAxisDimensionValue){initialValue+=parseInt(row[dataValueIndex],10);var newRow=Object(lodash.clone)(row);newRow[dataValueIndex]=initialValue,newRows.push(newRow)}}))}))})),newAnalyticsObject.rows=Object(lodash.assign)([],newRows)}return newAnalyticsObject}(analyticsObject,chartConfiguration.xAxisType[0],chartConfiguration.yAxisType):analyticsObject}function getChartExportingOptions(xAxisCategories){return{scale:3,chartOptions:{title:{style:{fontSize:"10px"}},subtitle:{style:{fontSize:"10px"}},xAxis:[{categories:xAxisCategories,labels:{rotation:0,style:{fontSize:"8px",color:"#000000",textAlign:"center",textOverflow:"allow",width:1,paddingBottom:"5px"}}}]},buttons:{contextButton:{enabled:!0}}}}try{getChartExportingOptions.displayName="getChartExportingOptions",getChartExportingOptions.__docgenInfo={description:"",displayName:"getChartExportingOptions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-chart-exporting-options.helper.tsx#getChartExportingOptions"]={docgenInfo:getChartExportingOptions.__docgenInfo,name:"getChartExportingOptions",path:"src/components/ChartAnalytics/helper/get-chart-exporting-options.helper.tsx#getChartExportingOptions"})}catch(__react_docgen_typescript_loader_error){}function getSanitizedChartObject(chartObject,chartConfiguration){var dataSelectionGroups=Object(lodash.flatten)(Object(lodash.filter)(Object(lodash.map)(chartConfiguration.dataSelections||[],(function(dataSelection){return dataSelection.groups})),(function(group){return group}))),dataSelectionGroupMembers=Object(lodash.flatten)(Object(lodash.map)(dataSelectionGroups,(function(group){return Object(lodash.map)(group.members,(function(member){return"".concat(member.id,"_").concat(group.id)}))}))),dataIndexesArrayToRemove=Object(lodash.map)(chartObject.series,(function(seriesObject){return Object(lodash.filter)(Object(lodash.map)(seriesObject.data,(function(dataItem,dataIndex){return""===dataItem.y||dataSelectionGroupMembers.length>0&&-1===dataSelectionGroupMembers.indexOf(dataItem.id)?dataIndex:-1})),(function(dataIndex){return-1!==dataIndex}))})),newDataIndexes=[];Object(lodash.each)(dataIndexesArrayToRemove,(function(dataIndexes){newDataIndexes=0===newDataIndexes.length?dataIndexes:newDataIndexes,newDataIndexes=Object(lodash.intersection)(newDataIndexes,dataIndexes)}));var newSeries=Object(lodash.map)(chartObject.series,(function(seriesObject){return Object(objectSpread2.a)(Object(objectSpread2.a)({},seriesObject),{},{data:Object(lodash.filter)(Object(lodash.map)(seriesObject.data,(function(dataItem){var splitedDataItemId=dataItem.id.split("_"),associatedGroup=Object(lodash.find)(dataSelectionGroups,["id",splitedDataItemId[1]]);return(window.clickedCharts||{})[dataItem.id]?Object(objectSpread2.a)(Object(objectSpread2.a)({},dataItem),{},{color:"#f00"}):associatedGroup&&Object(lodash.some)(associatedGroup.members,(function(member){return member.id===splitedDataItemId[0]}))&&associatedGroup.color?Object(objectSpread2.a)(Object(objectSpread2.a)({},dataItem),{},{color:associatedGroup.color}):dataItem})),(function(dataItem,dataIndex){return-1===newDataIndexes.indexOf(dataIndex)}))})})),categoryCount=0,newCategories=Object(lodash.map)(chartObject.xAxis.categories,(function(category){if(!category.categories)return category;var newCategory=Object(objectSpread2.a)(Object(objectSpread2.a)({},category),{},{categories:Object(lodash.filter)(category.categories,(function(innerCategory,innerCategoryIndex){return-1===newDataIndexes.indexOf(innerCategoryIndex+categoryCount)}))});return categoryCount+=category.categories?category.categories.length:0,newCategory}));return Object(objectSpread2.a)(Object(objectSpread2.a)({},chartObject),{},{series:newSeries,xAxis:Object(objectSpread2.a)(Object(objectSpread2.a)({},chartObject.xAxis),{},{categories:newCategories}),exporting:getChartExportingOptions(newCategories)})}function getChartAxisItems(analyticsObject,axisTypeArray){var items=[],metadataNames=analyticsObject.metaData.names;return null==axisTypeArray||axisTypeArray.forEach((function(axisType,axisIndex){var _analyticsObject$meta,itemKeys=null!==(_analyticsObject$meta=analyticsObject.metaData[axisType])&&void 0!==_analyticsObject$meta?_analyticsObject$meta:[];if(itemKeys)if(axisIndex>0){var availableItems=Object(lodash.assign)([],items);items=[],itemKeys.forEach((function(itemKey){availableItems.forEach((function(item){items.push({id:item.id+"_"+itemKey,name:item.name+"_"+metadataNames[itemKey].trim()})}))}))}else items=Object(lodash.map)(itemKeys,(function(itemKey){return{id:itemKey,name:metadataNames[itemKey].trim()}}))})),items}function getChartPaneOptions(chartType){var paneOptions={};if("radar"===chartType)paneOptions=Object(lodash.assign)({},{size:"80%"});else paneOptions=Object(lodash.assign)({},{center:["50%","85%"],size:"140%",startAngle:-90,endAngle:90,background:{backgroundColor:"#EEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}});return paneOptions}try{getChartPaneOptions.displayName="getChartPaneOptions",getChartPaneOptions.__docgenInfo={description:"",displayName:"getChartPaneOptions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-chart-pane-options.helper.tsx#getChartPaneOptions"]={docgenInfo:getChartPaneOptions.__docgenInfo,name:"getChartPaneOptions",path:"src/components/ChartAnalytics/helper/get-chart-pane-options.helper.tsx#getChartPaneOptions"})}catch(__react_docgen_typescript_loader_error){}function getChartSeriesDataLabelsOptions(chartConfiguration){var dataLabels=null;if("pie"===chartConfiguration.type)dataLabels={enabled:chartConfiguration.showData,format:"{point.name}<br/> <b>{point.y}</b> ( {point.percentage:.1f} % )"};else dataLabels={enabled:chartConfiguration.showData};return dataLabels}try{getChartSeriesDataLabelsOptions.displayName="getChartSeriesDataLabelsOptions",getChartSeriesDataLabelsOptions.__docgenInfo={description:"",displayName:"getChartSeriesDataLabelsOptions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-chart-series-data-label-options.helper.tsx#getChartSeriesDataLabelsOptions"]={docgenInfo:getChartSeriesDataLabelsOptions.__docgenInfo,name:"getChartSeriesDataLabelsOptions",path:"src/components/ChartAnalytics/helper/get-chart-series-data-label-options.helper.tsx#getChartSeriesDataLabelsOptions"})}catch(__react_docgen_typescript_loader_error){}function getChartSeriesData(analyticsObject,chartConfiguration,yAxisItemId,xAxisItems){var data=[],yAxisItemIndex=Object(lodash.findIndex)(analyticsObject.headers,Object(lodash.find)(analyticsObject.headers,["name",chartConfiguration.yAxisType])),dataIndex=Object(lodash.findIndex)(analyticsObject.headers,Object(lodash.find)(analyticsObject.headers,["name","value"])),xAxisItemIndex=Object(lodash.map)(chartConfiguration.xAxisType,(function(xAxisType){return Object(lodash.findIndex)(analyticsObject.headers,Object(lodash.find)(analyticsObject.headers,["name",xAxisType]))})).join("_");return xAxisItems&&xAxisItems.forEach((function(xAxisItem){var seriesValue=function getChartSeriesValue(analyticsRows,yAxisItemIndex,yAxisItemId,xAxisItemIndex,xAxisItemId,dataIndex){var finalValue=0,seriesValues=Object(lodash.map)(analyticsRows,(function(row){var seriesValue=0,xAxisRowId="";if(Object(lodash.forEach)(xAxisItemIndex.split("_"),(function(axisIndex){xAxisRowId+=""!==xAxisRowId?"_":"",xAxisRowId+=row[axisIndex]})),row[yAxisItemIndex]===yAxisItemId&&xAxisRowId===xAxisItemId){var value=parseFloat(row[dataIndex]);if(isNaN(value))return row[dataIndex];seriesValue+=value}return seriesValue})).filter((function(value){return 0!==value}));if(seriesValues){if(Object(lodash.some)(seriesValues,(function(seriesValue){return isNaN(seriesValue)})))return"";var isRatio=Object(lodash.some)(seriesValues,(function(seriesValue){return seriesValue.toString().split(".")[1]})),valueSum=seriesValues.length>0?seriesValues.reduce((function(sum,count){return parseFloat(sum)+parseFloat(count)})):0;finalValue=isRatio?valueSum/seriesValues.length:valueSum}return 0!==finalValue?finalValue:null}(analyticsObject.rows,yAxisItemIndex,yAxisItemId,xAxisItemIndex,xAxisItem.id,dataIndex);data.push({id:xAxisItem.id,name:xAxisItem.name,dataLabels:getChartSeriesDataLabelsOptions(chartConfiguration),y:seriesValue})})),data}function getChartSeries(analyticsObject,xAxisItems,yAxisItems,chartConfiguration){return yAxisItems.map((function(yAxisItem,yAxisIndex){return{name:yAxisItem.name,id:yAxisItem.id,index:yAxisIndex,turboThreshold:0,pointPlacement:"radar"===chartConfiguration.type?"on":void 0,data:getChartSeriesData(analyticsObject,chartConfiguration,yAxisItem.id,xAxisItems),type:getAllowedChartType(chartConfiguration.type)}}))}function getChartYAxisOptions(chartConfiguration){var yAxes=chartConfiguration.axes,newYAxes=[];return newYAxes=0==yAxes.length?Object(lodash.assign)([],[{min:chartConfiguration.rangeAxisMinValue,max:chartConfiguration.rangeAxisMaxValue,title:{text:"",style:{color:"#000000",fontWeight:"normal",fontSize:"14px"}}}]):Object(lodash.map)(yAxes,(function(yAxis){return{min:chartConfiguration.rangeAxisMinValue,max:chartConfiguration.rangeAxisMaxValue,title:{text:yAxis.name,style:{color:"#000000",fontWeight:"normal",fontSize:"14px"}},opposite:"left"!==yAxis.orientation}})),Object(lodash.map)(newYAxes,(function(yAxis){switch(chartConfiguration.type){case"radar":yAxis.gridLineInterpolation="polygon",yAxis.lineWidth=0;break;case"solidgauge":yAxis.lineWidth=0,yAxis.labels={y:16},yAxis.max=100;break;case"stacked_column":yAxis.stackLabels={enabled:!1,style:{fontWeight:"bold"}};break;default:yAxis.labels={style:{color:"#000000",fontWeight:"normal",fontSize:"14px"}},yAxis.plotLines=[{color:"#000000",dashStyle:"Solid",value:chartConfiguration.targetLineValue,width:2,zIndex:1e3,label:{text:chartConfiguration.targetLineLabel}},{color:"#000000",dashStyle:"Solid",value:chartConfiguration.baseLineValue,zIndex:1e3,width:2,label:{text:chartConfiguration.baseLineLabel}}]}return yAxis}))}try{getChartYAxisOptions.displayName="getChartYAxisOptions",getChartYAxisOptions.__docgenInfo={description:"",displayName:"getChartYAxisOptions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-chart-y-axis-options.helper.tsx#getChartYAxisOptions"]={docgenInfo:getChartYAxisOptions.__docgenInfo,name:"getChartYAxisOptions",path:"src/components/ChartAnalytics/helper/get-chart-y-axis-options.helper.tsx#getChartYAxisOptions"})}catch(__react_docgen_typescript_loader_error){}function getCombinedChartSeriesData(seriesData){var combinedSeriesData=[];return seriesData.forEach((function(seriesDataArray){seriesDataArray.forEach((function(seriesDataObject){var availableSeriesData=Object(lodash.find)(combinedSeriesData,["id",seriesDataObject.id]);if(availableSeriesData){var seriesDataIndex=Object(lodash.findIndex)(combinedSeriesData,availableSeriesData),newSeriesObject=Object(objectSpread2.a)({},seriesDataObject);newSeriesObject.y+=availableSeriesData.y,combinedSeriesData=[].concat(Object(toConsumableArray.a)(combinedSeriesData.slice(0,seriesDataIndex)),[newSeriesObject],Object(toConsumableArray.a)(combinedSeriesData.slice(seriesDataIndex+1)))}else combinedSeriesData=[].concat(Object(toConsumableArray.a)(combinedSeriesData),[seriesDataObject])}))})),combinedSeriesData}try{getCombinedChartSeriesData.displayName="getCombinedChartSeriesData",getCombinedChartSeriesData.__docgenInfo={description:"",displayName:"getCombinedChartSeriesData",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-combined-chart-series-data.helper.tsx#getCombinedChartSeriesData"]={docgenInfo:getCombinedChartSeriesData.__docgenInfo,name:"getCombinedChartSeriesData",path:"src/components/ChartAnalytics/helper/get-combined-chart-series-data.helper.tsx#getCombinedChartSeriesData"})}catch(__react_docgen_typescript_loader_error){}function getSortedChartSeries(series,sortOrder){var newSeries=Object(toConsumableArray.a)(series),seriesCategories=[],combinedSeriesData=Object(toConsumableArray.a)(getCombinedChartSeriesData(Object(lodash.map)(series,(function(seriesObject){return seriesObject.data}))));return 1===sortOrder?(seriesCategories=Object(lodash.map)(Object(lodash.reverse)(Object(lodash.sortBy)(combinedSeriesData,["y"])),(function(seriesData){return seriesData.id})),newSeries=Object(lodash.map)(newSeries,(function(seriesObject){var newSeriesObject=Object(objectSpread2.a)({},seriesObject);return seriesCategories.length>0&&(newSeriesObject.data=Object(toConsumableArray.a)(Object(lodash.map)(seriesCategories,(function(seriesCategory){return Object(lodash.find)(seriesObject.data,["id",seriesCategory])})))),newSeriesObject}))):-1===sortOrder&&(seriesCategories=Object(lodash.map)(Object(lodash.sortBy)(combinedSeriesData,["y"]),(function(seriesData){return seriesData.id})),newSeries=Object(lodash.map)(series,(function(seriesObject){var newSeriesObject=Object(objectSpread2.a)({},seriesObject);return seriesCategories.length>0&&(newSeriesObject.data=Object(toConsumableArray.a)(Object(lodash.map)(seriesCategories,(function(seriesCategory){return Object(lodash.find)(seriesObject.data,["id",seriesCategory])})))),newSeriesObject}))),newSeries}function getSolidGaugeChartObject(initialChartObject,analyticsObject,chartConfiguration){var newChartObject=Object(lodash.clone)(initialChartObject),yAxisSeriesItems=getChartAxisItems(analyticsObject,chartConfiguration.yAxisType);newChartObject.pane=getChartPaneOptions(chartConfiguration.type),newChartObject.yAxis=Object(lodash.assign)([],getChartYAxisOptions(chartConfiguration));var sortedSeries=getSortedChartSeries(getChartSeries(analyticsObject,getChartAxisItems(analyticsObject,chartConfiguration.xAxisType,!0),yAxisSeriesItems,chartConfiguration),chartConfiguration.cumulativeValues?-1:chartConfiguration.sortOrder);return Object(objectSpread2.a)(Object(objectSpread2.a)({},newChartObject),{},{series:sortedSeries})}function getXAxisItemsFromChartConfiguration(chartConfiguration){return(chartConfiguration?chartConfiguration.xAxisType:[]).map((function(xAxisDimension){var dataSelection=Object(lodash.find)(chartConfiguration?chartConfiguration.dataSelections:[],["dimension","groups"===xAxisDimension?"dx":xAxisDimension]);return dataSelection?"groups"===xAxisDimension?dataSelection.groups:dataSelection.items:[]}))}try{getXAxisItemsFromChartConfiguration.displayName="getXAxisItemsFromChartConfiguration",getXAxisItemsFromChartConfiguration.__docgenInfo={description:"",displayName:"getXAxisItemsFromChartConfiguration",props:{renderId:{defaultValue:null,description:"",name:"renderId",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!0,type:{name:"string"}},xAxisType:{defaultValue:null,description:"",name:"xAxisType",required:!0,type:{name:"string[]"}},yAxisType:{defaultValue:null,description:"",name:"yAxisType",required:!0,type:{name:"string"}},zAxisType:{defaultValue:null,description:"",name:"zAxisType",required:!0,type:{name:"string[]"}},showData:{defaultValue:null,description:"",name:"showData",required:!0,type:{name:"boolean"}},hideTitle:{defaultValue:null,description:"",name:"hideTitle",required:!0,type:{name:"boolean"}},hideSubtitle:{defaultValue:null,description:"",name:"hideSubtitle",required:!0,type:{name:"boolean"}},hideEmptyRows:{defaultValue:null,description:"",name:"hideEmptyRows",required:!0,type:{name:"boolean"}},hideLegend:{defaultValue:null,description:"",name:"hideLegend",required:!0,type:{name:"boolean"}},showLabels:{defaultValue:null,description:"",name:"showLabels",required:!0,type:{name:"boolean"}},multiAxisTypes:{defaultValue:null,description:"",name:"multiAxisTypes",required:!0,type:{name:"any[]"}},cumulativeValues:{defaultValue:null,description:"",name:"cumulativeValues",required:!0,type:{name:"boolean"}},sortOrder:{defaultValue:null,description:"",name:"sortOrder",required:!0,type:{name:"number"}},percentStackedValues:{defaultValue:null,description:"",name:"percentStackedValues",required:!0,type:{name:"boolean"}},targetLineLabel:{defaultValue:null,description:"",name:"targetLineLabel",required:!0,type:{name:"string"}},targetLineValue:{defaultValue:null,description:"",name:"targetLineValue",required:!0,type:{name:"number"}},baseLineValue:{defaultValue:null,description:"",name:"baseLineValue",required:!0,type:{name:"number"}},baseLineLabel:{defaultValue:null,description:"",name:"baseLineLabel",required:!0,type:{name:"string"}},legendAlign:{defaultValue:null,description:"",name:"legendAlign",required:!0,type:{name:"string"}},reverseLegend:{defaultValue:null,description:"",name:"reverseLegend",required:!0,type:{name:"boolean"}},rangeAxisMaxValue:{defaultValue:null,description:"",name:"rangeAxisMaxValue",required:!0,type:{name:"number"}},rangeAxisMinValue:{defaultValue:null,description:"",name:"rangeAxisMinValue",required:!0,type:{name:"number"}},axes:{defaultValue:null,description:"",name:"axes",required:!0,type:{name:"any[]"}},dataSelections:{defaultValue:null,description:"",name:"dataSelections",required:!0,type:{name:"any[]"}},categoryRotation:{defaultValue:null,description:"",name:"categoryRotation",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/helper/get-x-axis-items-from-chart-configuration.helper.tsx#getXAxisItemsFromChartConfiguration"]={docgenInfo:getXAxisItemsFromChartConfiguration.__docgenInfo,name:"getXAxisItemsFromChartConfiguration",path:"src/components/ChartAnalytics/helper/get-x-axis-items-from-chart-configuration.helper.tsx#getXAxisItemsFromChartConfiguration"})}catch(__react_docgen_typescript_loader_error){}function getSpiderWebChartObject(initialChartObject,analyticsObject,chartConfiguration){var newChartObject=Object(lodash.clone)(initialChartObject),yAxisSeriesItems=getChartAxisItems(analyticsObject,chartConfiguration.yAxisType);newChartObject.pane=Object(lodash.assign)({},getChartPaneOptions(chartConfiguration.type)),newChartObject.yAxis=Object(lodash.assign)([],getChartYAxisOptions(chartConfiguration));var sortedSeries=getSortedChartSeries(getChartSeries(analyticsObject,getChartAxisItems(analyticsObject,chartConfiguration.xAxisType,!0),yAxisSeriesItems,chartConfiguration),chartConfiguration.cumulativeValues?-1:chartConfiguration.sortOrder);newChartObject.series=Object(lodash.assign)([],sortedSeries);var xAxisItems=getXAxisItemsFromChartConfiguration(chartConfiguration);return newChartObject.xAxis=function getChartXAxisOptions(xAxisCategories,chartConfiguration){var xAxisOptions={};xAxisOptions="radar"===chartConfiguration.type?Object(lodash.assign)({},{categories:xAxisCategories,tickmarkPlacement:"on",lineWidth:0}):Object(lodash.assign)({},{categories:Object(toConsumableArray.a)(null==xAxisCategories?void 0:xAxisCategories.map((function(xAxisCategory){return xAxisCategory.name}))),labels:{rotation:0,useHTML:!0,allowOverlap:!0,style:{color:"#000000",fontWeight:"normal",fontSize:"12px",wordBreak:"break-all",textOverflow:"allow"}}});return xAxisOptions}(function getSanitizedChartXAxisCategories(series,xAxisItems){var reversedXAxisItems=Object(lodash.reverse)(xAxisItems||[]),newCategories=[];if(series){var seriesDataObjects=Object(lodash.map)(series,(function(seriesObject){return seriesObject.data}));if(seriesDataObjects){var seriesCategoryNamesArray=Object(lodash.map)(seriesDataObjects,(function(seriesData){return Object(lodash.map)(seriesData,(function(data){var idArray=data.name.split("_"),newCategoryArray=[];if(idArray){var reversedIdArray=Object(lodash.reverse)(idArray);Object(lodash.times)(idArray.length,(function(num){if(0===num){var parentCategoryItem=Object(lodash.find)(reversedXAxisItems[num]||[],["id",reversedIdArray[num]]);newCategoryArray.push({id:reversedIdArray[num],name:parentCategoryItem?parentCategoryItem.label||parentCategoryItem.name:reversedIdArray[num]})}else{var parentCategory=Object(lodash.find)(newCategoryArray,["id",reversedIdArray[num-1]]);if(parentCategory){var parentCategoryIndex=Object(lodash.findIndex)(newCategoryArray,parentCategory),newChildrenCategories=parentCategory.categories?parentCategory.categories:[],childrenCategoryItem=Object(lodash.find)(reversedXAxisItems[num]||[],["id",reversedIdArray[num]]);newChildrenCategories=[].concat(Object(toConsumableArray.a)(newChildrenCategories),[childrenCategoryItem?childrenCategoryItem.label||childrenCategoryItem.name:reversedIdArray[num]]),parentCategory.categories=Object(lodash.assign)([],newChildrenCategories),newCategoryArray[parentCategoryIndex]=parentCategory}}}))}return newCategoryArray[0]}))}));if(seriesCategoryNamesArray){var groupedCategoryNames=Object(lodash.groupBy)(seriesCategoryNamesArray[0],"name"),categoryNameGroupKeys=Object(lodash.map)(seriesCategoryNamesArray[0],(function(category){return category.name})),sanitizedCategoryNames=[];Object(lodash.forEach)(categoryNameGroupKeys,(function(key){var categories=Object(lodash.filter)(Object(lodash.map)(groupedCategoryNames[key],(function(categoryObject){return categoryObject.categories?categoryObject.categories[0]:null})),(function(category){return null!==category}));0===categories.length?sanitizedCategoryNames.push({name:key}):sanitizedCategoryNames.push({name:key,categories:categories})})),newCategories=Object(lodash.assign)([],sanitizedCategoryNames)}}}return Object(lodash.uniqBy)(newCategories,"name")}(newChartObject.series,xAxisItems),chartConfiguration),newChartObject}function getCharObject(incommingAnalyticObject,chartConfiguration){var analyticsObject=getSanitizedanalyticsBasedOnConfiguration(incommingAnalyticObject,chartConfiguration),chartObject=function getInitialChartObject(analyticsObject,chartConfiguration){return{chart:getChartAttributeOptions(chartConfiguration),title:getChartTitleObject(chartConfiguration),subtitle:getChartSubtitleObject(chartConfiguration,analyticsObject),credits:{enabled:!1},colors:["#A9BE3B","#558CC0","#D34957","#FF9F3A","#968F8F","#B7409F","#FFDA64","#4FBDAE","#B78040","#676767","#6A33CF","#4A7833","#434348","#7CB5EC","#F7A35C","#F15C80"],plotOptions:getPlotOptions(chartConfiguration),tooltip:getTooltipOptions(chartConfiguration)}}(analyticsObject,chartConfiguration);switch(chartConfiguration.type){case"radar":chartObject=getSpiderWebChartObject(chartObject,analyticsObject,chartConfiguration);break;case"solidgauge":chartObject=getSolidGaugeChartObject(chartObject,analyticsObject,chartConfiguration);break;case"gauge":var newChartConfiguration=Object(lodash.clone)(chartConfiguration);newChartConfiguration.type="solidgauge",chartObject=getSolidGaugeChartObject(chartObject,analyticsObject,newChartConfiguration);break;default:return getSanitizedChartObject(getSpiderWebChartObject(chartObject,analyticsObject,chartConfiguration),chartConfiguration)}return getSanitizedChartObject(chartObject,chartConfiguration)}__webpack_require__(1276);var jsx_runtime=__webpack_require__(2);function ChartItemComponent(_ref){var analysisData=_ref.analysisData,chartHeight=_ref.chartHeight,chartConfiguration=_ref.chartConfiguration,_useState=Object(react.useState)(CHART_TYPES),chartTypes=Object(slicedToArray.a)(_useState,1)[0],_useState3=Object(react.useState)(chartConfiguration.currentChartType),_useState4=Object(slicedToArray.a)(_useState3,2),currentChartType=_useState4[0],setCurrentChartType=_useState4[1],_useState5=Object(react.useState)(),_useState6=Object(slicedToArray.a)(_useState5,2),chartOptions=_useState6[0],setChartOptions=_useState6[1],_useState7=Object(react.useState)(chartConfigurationSelector(chartConfiguration.layout,currentChartType)),_useState8=Object(slicedToArray.a)(_useState7,2),drawChartConfiguration=_useState8[0],setDrawChartConfiguration=_useState8[1];function drawChart(analyticsObject,drawChartConfiguration){if(drawChartConfiguration&&analyticsObject){var chartObject=getCharObject(analyticsObject,drawChartConfiguration);chartObject&&setChartOptions(chartObject)}}function chartConfigurationSelector(layout,currentChartType){return function getChartConfiguration(visualizationSettings,renderId,visualizationLayout,interventionName,customChartType,dataSelections){return{renderId:renderId,type:customChartType,title:getChartTitle(visualizationSettings,interventionName),subtitle:visualizationSettings.hasOwnProperty("subtitle")?visualizationSettings.subtitle:"",hideTitle:!visualizationSettings.hasOwnProperty("hideTitle")||visualizationSettings.hideTitle,hideSubtitle:!!visualizationSettings.hasOwnProperty("hideSubtitle")&&visualizationSettings.hideSubtitle,showData:!visualizationSettings.hasOwnProperty("showData")||visualizationSettings.showData,hideEmptyRows:!visualizationSettings.hasOwnProperty("hideEmptyRows")||visualizationSettings.hideEmptyRows,hideLegend:!visualizationSettings.hasOwnProperty("hideLegend")||visualizationSettings.hideLegend,cumulativeValues:!!visualizationSettings.hasOwnProperty("cumulativeValues")&&visualizationSettings.cumulativeValues,targetLineValue:visualizationSettings.targetLineValue?visualizationSettings.targetLineValue:void 0,targetLineLabel:visualizationSettings.targetLineLabel?visualizationSettings.targetLineLabel:"",baseLineValue:visualizationSettings.baseLineValue?visualizationSettings.baseLineValue:void 0,baseLineLabel:visualizationSettings.baseLineLabel?visualizationSettings.baseLineLabel:"",legendAlign:"bottom",categoryRotation:0,reverseLegend:!1,showLabels:!0,axes:visualizationSettings.axes?visualizationSettings.axes:[],rangeAxisMaxValue:90,rangeAxisMinValue:visualizationSettings.rangeAxisMinValue?visualizationSettings.rangeAxisMinValue:void 0,sortOrder:visualizationSettings.hasOwnProperty("sortOrder")?visualizationSettings.sortOrder:0,percentStackedValues:!visualizationSettings.hasOwnProperty("percentStackedValues")||visualizationSettings.percentStackedValues,multiAxisTypes:visualizationSettings.hasOwnProperty("selectedChartTypes")?visualizationSettings.selectedChartTypes:[],xAxisType:visualizationLayout.row,yAxisType:visualizationLayout.column,zAxisType:visualizationLayout.filter,dataSelections:dataSelections}}({},"",layout,"",currentChartType,[])}return Object(react.useEffect)((function(){drawChart(analysisData._data,drawChartConfiguration)}),[analysisData,chartConfiguration.layout,currentChartType]),Object(jsx_runtime.jsxs)("div",{className:"chart-item-container",style:{width:"100%"},children:[Object(jsx_runtime.jsx)("div",{className:"chart-block",style:{height:"calc("+chartHeight+"px-20px",width:"100%"},children:Object(jsx_runtime.jsx)(highcharts_react_min_default.a,{highcharts:highcharts_default.a,options:chartOptions})}),Object(jsx_runtime.jsx)("ul",{id:"dataImg",className:"chart-type-list animated fadeInRight",children:null==chartTypes?void 0:chartTypes.map((function(chartType,chartTypePosition){return Object(jsx_runtime.jsx)("li",{children:Object(jsx_runtime.jsx)("button",{onClick:function onClick(e){return function updateChartType(chartType,event){event.stopPropagation(),setCurrentChartType(chartType),setDrawChartConfiguration(chartConfigurationSelector(chartConfiguration.layout,chartType)),drawChart(analysisData._data,Object(objectSpread2.a)(Object(objectSpread2.a)({},drawChartConfiguration),{},{type:chartType}))}(chartType.type,e)},title:chartType.description,className:chartConfiguration.currentChartType==chartType.type?"active-chart-type":"",children:Object(jsx_runtime.jsx)("img",{src:chartType.icon,className:"chart-option-icon",alt:""})})},"chart-type"+chartTypePosition)}))})]})}try{Chartitemcomponent.displayName="Chartitemcomponent",Chartitemcomponent.__docgenInfo={description:"",displayName:"Chartitemcomponent",props:{analysisData:{defaultValue:null,description:"",name:"analysisData",required:!0,type:{name:"any"}},chartHeight:{defaultValue:null,description:"",name:"chartHeight",required:!0,type:{name:"number"}},chartConfiguration:{defaultValue:null,description:"",name:"chartConfiguration",required:!0,type:{name:"ChartConfigurationProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/components/chart-item/Chart-item-component.tsx#Chartitemcomponent"]={docgenInfo:Chartitemcomponent.__docgenInfo,name:"Chartitemcomponent",path:"src/components/ChartAnalytics/components/chart-item/Chart-item-component.tsx#Chartitemcomponent"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1277);function ChartAnalytics(_ref){var analysisData=_ref.analysisData,_ref$chartHeight=_ref.chartHeight,chartHeight=void 0===_ref$chartHeight?1e3:_ref$chartHeight,chartConfiguration=_ref.chartConfiguration;return Object(jsx_runtime.jsx)("div",{className:"chart-list",children:Object(jsx_runtime.jsx)(react.Suspense,{fallback:Object(jsx_runtime.jsx)("div",{children:es.a.t("Loading .....")}),children:Object(jsx_runtime.jsx)(ChartItemComponent,{analysisData:analysisData,chartHeight:chartHeight,chartConfiguration:chartConfiguration})})})}try{ChartAnalytics.displayName="ChartAnalytics",ChartAnalytics.__docgenInfo={description:"",displayName:"ChartAnalytics",props:{analysisData:{defaultValue:null,description:"",name:"analysisData",required:!0,type:{name:"any"}},chartHeight:{defaultValue:{value:"1000"},description:"",name:"chartHeight",required:!1,type:{name:"number"}},chartConfiguration:{defaultValue:null,description:"",name:"chartConfiguration",required:!0,type:{name:"ChartConfigurationProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartAnalytics/index.tsx#ChartAnalytics"]={docgenInfo:ChartAnalytics.__docgenInfo,name:"ChartAnalytics",path:"src/components/ChartAnalytics/index.tsx#ChartAnalytics"})}catch(__react_docgen_typescript_loader_error){}var ChartAnalytics_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ChartAnalytics,Object(objectSpread2.a)({},args))},Default=ChartAnalytics_stories_Template.bind({});Default.args={analysisData:{_data:{headers:[{name:"dx",column:"Data",valueType:"TEXT",type:"java.lang.String",hidden:!1,meta:!0},{name:"ou",column:"Organisation unit",valueType:"TEXT",type:"java.lang.String",hidden:!1,meta:!0},{name:"pe",column:"Period",valueType:"TEXT",type:"java.lang.String",hidden:!1,meta:!0},{name:"value",column:"Value",valueType:"NUMBER",type:"java.lang.Double",hidden:!1,meta:!1}],metaData:{names:{202107:"July 2021",202108:"August 2021",202109:"September 2021","2021Q2":"Apr to Jun 2021",ImspTQPwCqd:"Sierra Leone",dx:"Data",pe:"Period",ou:"Organisation unit",ReUHfIn0pTQ:"ANC 1-3 Dropout Rate"},dx:["ReUHfIn0pTQ"],pe:["2021Q2","202107","202108","202109"],ou:["ImspTQPwCqd"],co:[]},rows:[["ReUHfIn0pTQ","ImspTQPwCqd","2021Q2","39.7"],["ReUHfIn0pTQ","ImspTQPwCqd","202107","33.4"],["ReUHfIn0pTQ","ImspTQPwCqd","202108","33.2"],["ReUHfIn0pTQ","ImspTQPwCqd","202109","31.3"]],height:4,width:4}},chartConfiguration:{layout:{column:["dx"],row:["pe"],filter:["ou"]},currentChartType:"column"}};var LinkedChart=ChartAnalytics_stories_Template.bind({});LinkedChart.args={analysisData:{_data:{headers:[{name:"dx",column:"Data",valueType:"TEXT",type:"java.lang.String",hidden:!1,meta:!0},{name:"ou",column:"Organisation unit",valueType:"TEXT",type:"java.lang.String",hidden:!1,meta:!0},{name:"pe",column:"Period",valueType:"TEXT",type:"java.lang.String",hidden:!1,meta:!0},{name:"value",column:"Value",valueType:"NUMBER",type:"java.lang.Double",hidden:!1,meta:!1}],metaData:{names:{202010:"October 2020",202011:"November 2020",202012:"December 2020",202101:"January 2021",202102:"February 2021",202103:"March 2021",202104:"April 2021",202105:"May 2021",202106:"June 2021",202107:"July 2021",202108:"August 2021",202109:"September 2021",ou:"Organisation unit",ImspTQPwCqd:"Sierra Leone","2021Q1":"Jan to Mar 2021",dx:"Data",pe:"Period",Uvn6LCg7dVU:"ANC 1 Coverage",ReUHfIn0pTQ:"ANC 1-3 Dropout Rate"},dx:["Uvn6LCg7dVU","ReUHfIn0pTQ"],pe:["2021Q1","202010","202011","202012","202101","202102","202103","202104","202105","202106","202107","202108","202109"],ou:["ImspTQPwCqd"],co:[]},rows:[["Uvn6LCg7dVU","ImspTQPwCqd","2021Q1","95.5"],["Uvn6LCg7dVU","ImspTQPwCqd","202010","86.3"],["Uvn6LCg7dVU","ImspTQPwCqd","202011","97.9"],["Uvn6LCg7dVU","ImspTQPwCqd","202012","79.2"],["Uvn6LCg7dVU","ImspTQPwCqd","202101","96.6"],["Uvn6LCg7dVU","ImspTQPwCqd","202102","100.8"],["Uvn6LCg7dVU","ImspTQPwCqd","202103","89.7"],["Uvn6LCg7dVU","ImspTQPwCqd","202104","109.1"],["Uvn6LCg7dVU","ImspTQPwCqd","202105","142.2"],["Uvn6LCg7dVU","ImspTQPwCqd","202106","118.8"],["Uvn6LCg7dVU","ImspTQPwCqd","202107","109.2"],["Uvn6LCg7dVU","ImspTQPwCqd","202108","106.2"],["Uvn6LCg7dVU","ImspTQPwCqd","202109","111.7"],["ReUHfIn0pTQ","ImspTQPwCqd","2021Q1","36.4"],["ReUHfIn0pTQ","ImspTQPwCqd","202010","34.0"],["ReUHfIn0pTQ","ImspTQPwCqd","202011","24.5"],["ReUHfIn0pTQ","ImspTQPwCqd","202012","35.3"],["ReUHfIn0pTQ","ImspTQPwCqd","202101","40.7"],["ReUHfIn0pTQ","ImspTQPwCqd","202102","35.5"],["ReUHfIn0pTQ","ImspTQPwCqd","202103","32.7"],["ReUHfIn0pTQ","ImspTQPwCqd","202104","36.3"],["ReUHfIn0pTQ","ImspTQPwCqd","202105","46.7"],["ReUHfIn0pTQ","ImspTQPwCqd","202106","34.2"],["ReUHfIn0pTQ","ImspTQPwCqd","202107","33.4"],["ReUHfIn0pTQ","ImspTQPwCqd","202108","33.2"],["ReUHfIn0pTQ","ImspTQPwCqd","202109","31.3"]],height:26,width:4}},chartConfiguration:{layout:{column:["dx"],row:["pe"],filter:["ou"]},currentChartType:"line"}};__webpack_exports__.default={title:"Components/Chart Analytics",component:ChartAnalytics,decorators:[function(ChartStory){return Object(jsx_runtime.jsx)("div",{style:{width:900,height:"100%"},children:Object(jsx_runtime.jsx)(ChartStory,{})})}]};Default.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <ChartAnalytics {...args} />"}},Default.parameters),LinkedChart.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <ChartAnalytics {...args} />"}},LinkedChart.parameters)},1299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"IndicatorSelector",(function(){return IndicatorSelector})),__webpack_require__.d(__webpack_exports__,"WithMaxSelection",(function(){return WithMaxSelection})),__webpack_require__.d(__webpack_exports__,"WithAllAvailableDataSources",(function(){return WithAllAvailableDataSources}));var objectSpread2=__webpack_require__(7),react=__webpack_require__(0),slicedToArray=__webpack_require__(31),es=__webpack_require__(8),lodash=__webpack_require__(5),toConsumableArray=__webpack_require__(45),jsx_runtime=__webpack_require__(2);function DataSourceSearch(_ref){var keyword=_ref.keyword,setSearchKeyword=_ref.setSearchKeyword;return Object(jsx_runtime.jsx)("div",{className:"pt-8 pb-8 ",children:Object(jsx_runtime.jsx)(es.u,{placeholder:"Search",type:"text",value:keyword,name:"keyword",onChange:function onChange(_ref2){var value=_ref2.value;return setSearchKeyword(value)}})})}try{Search.displayName="Search",Search.__docgenInfo={description:"",displayName:"Search",props:{keyword:{defaultValue:null,description:"",name:"keyword",required:!1,type:{name:"string"}},setSearchKeyword:{defaultValue:null,description:"",name:"setSearchKeyword",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSelector/components/Search/index.tsx#Search"]={docgenInfo:Search.__docgenInfo,name:"Search",path:"src/components/DataSourceSelector/components/Search/index.tsx#Search"})}catch(__react_docgen_typescript_loader_error){}var regenerator=__webpack_require__(18),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(42),build_es=__webpack_require__(93);function DataSource_DataSource(_ref){var selectedDataSourceType=_ref.selectedDataSourceType,selectedGroup=_ref.selectedGroup,_onChange=_ref.onChange,selected=_ref.selected,disabled=_ref.disabled,maxSelections=_ref.maxSelections,_useState=Object(react.useState)(),_useState2=Object(slicedToArray.a)(_useState,2),searchKeyword=_useState2[0],setSearchKeyword=_useState2[1],_useDataSources=function useDataSources(selectedDataSourceType,selectedGroup){var _useState=Object(react.useState)(1),_useState2=Object(slicedToArray.a)(_useState,2),page=_useState2[0],setPage=_useState2[1],_useState3=Object(react.useState)(),_useState4=Object(slicedToArray.a)(_useState3,2),totalPages=_useState4[0],setTotalPages=_useState4[1],_useState5=Object(react.useState)([]),_useState6=Object(slicedToArray.a)(_useState5,2),data=_useState6[0],setData=_useState6[1],_useState7=Object(react.useState)(!1),_useState8=Object(slicedToArray.a)(_useState7,2),loading=_useState8[0],setLoading=_useState8[1],_useState9=Object(react.useState)(),_useState10=Object(slicedToArray.a)(_useState9,2),error=_useState10[0],setError=_useState10[1],engine=Object(build_es.b)(),fetchData=Object(react.useCallback)(function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(currentPage,searchKeyword){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!searchKeyword&&!selectedGroup){_context.next=4;break}return _context.next=3,selectedDataSourceType.filter(engine,{page:currentPage,searchKeyword:null!=searchKeyword?searchKeyword:"",selectedGroup:selectedGroup});case 3:case 6:return _context.abrupt("return",_context.sent);case 4:return _context.next=6,selectedDataSourceType.getDataSources(engine,{page:currentPage});case 7:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),[engine,selectedDataSourceType,selectedGroup]),search=Object(react.useCallback)(function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(keyword){var _response$pager,response;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setLoading(!0),_context2.prev=1,setPage(1),setTotalPages(void 0),setData([]),_context2.next=7,fetchData(1,keyword);case 7:response=_context2.sent,Object(lodash.isArray)(null==response?void 0:response.data)&&setData(Object(toConsumableArray.a)(null==response?void 0:response.data)),setTotalPages(null==response||null===(_response$pager=response.pager)||void 0===_response$pager?void 0:_response$pager.pageCount),setError(void 0),_context2.next=17;break;case 13:_context2.prev=13,_context2.t0=_context2.catch(1),setLoading(!1),setError(_context2.t0);case 17:setLoading(!1);case 18:case"end":return _context2.stop()}}),_callee2,null,[[1,13]])})));return function(_x3){return _ref2.apply(this,arguments)}}(),[fetchData]),nexPage=Object(react.useCallback)(Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(){var response;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!(totalPages&&page<totalPages)){_context3.next=16;break}return _context3.prev=1,setLoading(!0),setPage((function(prevPage){return prevPage+1})),_context3.next=6,fetchData(page+1);case 6:response=_context3.sent,setData((function(prevData){var _response$data;return[].concat(Object(toConsumableArray.a)(null!=prevData?prevData:[]),Object(toConsumableArray.a)(null!==(_response$data=null==response?void 0:response.data)&&void 0!==_response$data?_response$data:[]))})),setError(void 0),setLoading(!1),_context3.next=16;break;case 12:_context3.prev=12,_context3.t0=_context3.catch(1),setLoading(!1),setError(_context3.t0);case 16:case"end":return _context3.stop()}}),_callee3,null,[[1,12]])}))),[data,fetchData,page,totalPages]);return Object(react.useEffect)((function(){function _fetch(){return(_fetch=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(){var _response$pager2,response;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!selectedDataSourceType){_context4.next=19;break}return setLoading(!0),_context4.prev=2,setPage(1),setTotalPages(void 0),setData([]),_context4.next=8,fetchData(1);case 8:response=_context4.sent,setData(null==response?void 0:response.data),setTotalPages(null==response||null===(_response$pager2=response.pager)||void 0===_response$pager2?void 0:_response$pager2.pageCount),setError(void 0),_context4.next=18;break;case 14:_context4.prev=14,_context4.t0=_context4.catch(2),setLoading(!1),setError(_context4.t0);case 18:setLoading(!1);case 19:case"end":return _context4.stop()}}),_callee4,null,[[2,14]])})))).apply(this,arguments)}!function fetch(){_fetch.apply(this,arguments)}()}),[selectedGroup,selectedDataSourceType,fetchData]),{data:data,error:error,loading:loading,nexPage:nexPage,search:search}}(selectedDataSourceType,selectedGroup),loading=_useDataSources.loading,data=_useDataSources.data,error=_useDataSources.error,nexPage=_useDataSources.nexPage,search=_useDataSources.search,dataSources=Object(react.useMemo)((function(){var loadedData=data||[],selectedData=selected||[];return Object(lodash.uniqBy)([].concat(Object(toConsumableArray.a)(loadedData),Object(toConsumableArray.a)(selectedData)),"id")}),[data,selected,selectedGroup]),onSearchChange=Object(lodash.debounce)(search,1e3,{maxWait:1500});return Object(jsx_runtime.jsx)(es.i,{error:error,validationText:null==error?void 0:error.message,children:Object(jsx_runtime.jsx)(es.K,{maxSelections:"number"==typeof maxSelections?maxSelections:null,onEndReached:function onEndReached(){loading||nexPage()},loading:loading,onChange:function onChange(value){_onChange(value.selected.map((function(id){var selectedDataSource=Object(lodash.find)(dataSources,["id",id]);return Object(objectSpread2.a)(Object(objectSpread2.a)({},selectedDataSource),{},{type:null==selectedDataSourceType?void 0:selectedDataSourceType.type})})))},selected:null==selected?void 0:selected.map((function(_ref2){return _ref2.id})),options:(null==dataSources?void 0:dataSources.map((function(source){return{label:source.displayName,value:source.id,disabled:Object(lodash.findIndex)(disabled,(function(val){return val===source.id}))>=0}})))||[],leftHeader:Object(jsx_runtime.jsx)(DataSourceSearch,{setSearchKeyword:function setSearchChange(keyword){setSearchKeyword(keyword),onSearchChange(keyword)},keyword:searchKeyword})})})}try{DataSource_DataSource.displayName="DataSource",DataSource_DataSource.__docgenInfo={description:"",displayName:"DataSource",props:{selectedDataSourceType:{defaultValue:null,description:"",name:"selectedDataSourceType",required:!0,type:{name:"DataSource"}},selectedGroup:{defaultValue:null,description:"",name:"selectedGroup",required:!1,type:{name:"{ id: string; }"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: any[]) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"any[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"string[]"}},maxSelections:{defaultValue:null,description:"",name:"maxSelections",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSelector/components/DataSource/index.tsx#DataSource"]={docgenInfo:DataSource_DataSource.__docgenInfo,name:"DataSource",path:"src/components/DataSourceSelector/components/DataSource/index.tsx#DataSource"})}catch(__react_docgen_typescript_loader_error){}function GroupSelector(_ref){var selectedDataType=_ref.selectedDataType,onSelect=_ref.onSelect,selectedGroup=_ref.selectedGroup,_useDataGroups=function useDataGroups(initialSelectedDataType){var _useState=Object(react.useState)(),_useState2=Object(slicedToArray.a)(_useState,2),data=_useState2[0],setData=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),loading=_useState4[0],setLoading=_useState4[1],_useState5=Object(react.useState)(),_useState6=Object(slicedToArray.a)(_useState5,2),error=_useState6[0],setError=_useState6[1],engine=Object(build_es.b)();return Object(react.useEffect)((function(){function _fetch(){return(_fetch=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var response;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!initialSelectedDataType){_context.next=13;break}return setLoading(!0),_context.prev=2,_context.next=5,initialSelectedDataType.getGroups(engine);case 5:(response=_context.sent)&&setData(response),_context.next=12;break;case 9:_context.prev=9,_context.t0=_context.catch(2),setError(_context.t0);case 12:setLoading(!1);case 13:case"end":return _context.stop()}}),_callee,null,[[2,9]])})))).apply(this,arguments)}!function fetch(){_fetch.apply(this,arguments)}()}),[engine,initialSelectedDataType]),{loading:loading,groups:null!=data?data:[],error:error}}(selectedDataType),loading=_useDataGroups.loading,groups=_useDataGroups.groups,error=_useDataGroups.error,disabled=Object(react.useMemo)((function(){return Object(lodash.isEmpty)(selectedDataType)||Object(lodash.isEmpty)(selectedDataType.groupResource)&&"customFunction"!==selectedDataType.type}),[selectedDataType.groupResource,groups,loading]);return Object(jsx_runtime.jsx)("div",{className:"pb-8 w-100",children:Object(jsx_runtime.jsx)(es.E,{clearable:!0,selected:null==selectedGroup?void 0:selectedGroup.id,onChange:function onChange(_ref2){var newValue=_ref2.selected,selectedGroup=Object(lodash.find)(groups,["id",newValue]);onSelect(selectedGroup)},error:error,validationText:null==error?void 0:error.message,loading:loading,disabled:disabled,label:"programs"===selectedDataType.groupResource?"Select Program":"Select Group",children:null==groups?void 0:groups.map((function(_ref3){var displayName=_ref3.displayName,id=_ref3.id;return Object(jsx_runtime.jsx)(es.F,{value:id,label:displayName},id)}))})})}try{GroupSelector.displayName="GroupSelector",GroupSelector.__docgenInfo={description:"",displayName:"GroupSelector",props:{selectedDataType:{defaultValue:null,description:"",name:"selectedDataType",required:!0,type:{name:"DataSource"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(value: any) => void"}},selectedGroup:{defaultValue:null,description:"",name:"selectedGroup",required:!1,type:{name:"{ id: string; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSelector/components/GroupSelector/index.tsx#GroupSelector"]={docgenInfo:GroupSelector.__docgenInfo,name:"GroupSelector",path:"src/components/DataSourceSelector/components/GroupSelector/index.tsx#GroupSelector"})}catch(__react_docgen_typescript_loader_error){}var DATA_SOURCES=[{label:"Indicators",resource:"indicators",groupResource:"indicatorGroups",dimensionItemType:"INDICATOR",groupKey:"indicatorGroups.id",type:"indicator",native:!0},{label:"Program Indicators",resource:"programIndicators",dimensionItemType:"PROGRAM_INDICATOR",groupKey:"program.id",groupResource:"programs",type:"programIndicator",native:!0},{label:"Data Elements",resource:"dataElements",groupResource:"dataElementGroups",dimensionItemType:"DATA_ELEMENT",groupKey:"dataElementGroups.id",type:"dataElement",native:!1},{label:"Data Sets",resource:"dataSets",groupResource:"",dimensionItemType:"",groupKey:"",type:"dataSet",native:!1},{label:"Custom Functions",resource:"customFunctions",groupResource:"",dimensionItemType:"",groupKey:"",type:"customFunction",native:!1}],classCallCheck=__webpack_require__(87),createClass=__webpack_require__(88),assertThisInitialized=__webpack_require__(155),inherits=__webpack_require__(152),createSuper=__webpack_require__(151),dataSource_DataSource=function(){function DataSource(_ref){var label=_ref.label,type=_ref.type,resource=_ref.resource;Object(classCallCheck.a)(this,DataSource),this.label=void 0,this.type=void 0,this.resource=void 0,this.groupResource=void 0,this.dimensionItemType=void 0,this.groupKey=void 0,this.filterType=void 0,this.groupsQuery=void 0,this.dataSourcesQuery=void 0,this.label=label,this.type=type,this.resource=resource,this.getDataSources=this.getDataSources.bind(this),this.getGroups=this.getGroups.bind(this)}var _filter,_getDataSources,_getGroups;return Object(createClass.a)(DataSource,[{key:"getGroups",value:(_getGroups=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(engine){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}),_callee)}))),function getGroups(_x){return _getGroups.apply(this,arguments)})},{key:"getDataSources",value:(_getDataSources=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(engine,_ref2){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _ref2.filter,_ref2.page,_ref2.programId,_context2.abrupt("return",{data:void 0});case 2:case"end":return _context2.stop()}}),_callee2)}))),function getDataSources(_x2,_x3){return _getDataSources.apply(this,arguments)})},{key:"filter",value:(_filter=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(engine,_ref3){return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _ref3.selectedGroup,_ref3.page,_ref3.searchKeyword,_context3.abrupt("return",{data:void 0});case 2:case"end":return _context3.stop()}}),_callee3)}))),function filter(_x4,_x5){return _filter.apply(this,arguments)})}]),DataSource}(),nativeDataSource_NativeDataSource=function(_DataSource){Object(inherits.a)(NativeDataSource,_DataSource);var _filter,_getDataSources,_getGroups,_super=Object(createSuper.a)(NativeDataSource);function NativeDataSource(_ref){var _assertThisInitialize,_assertThisInitialize2,_this,label=_ref.label,resource=_ref.resource,groupResource=_ref.groupResource,dimensionItemType=_ref.dimensionItemType,groupKey=_ref.groupKey,type=_ref.type,filterType=_ref.filterType;return Object(classCallCheck.a)(this,NativeDataSource),(_this=_super.call(this,{resource:resource,label:label,type:type})).resource=void 0,_this.groupResource=void 0,_this.dimensionItemType=void 0,_this.groupKey=void 0,_this.filterType=void 0,_this.groupsQuery=void 0,_this.dataSourcesQuery=void 0,_this.resource=resource,_this.groupResource=groupResource,_this.dimensionItemType=dimensionItemType,_this.groupKey=groupKey,_this.filterType=null!=filterType?filterType:"eq",_this.groupsQuery={groups:{resource:null===(_assertThisInitialize=Object(assertThisInitialized.a)(_this))||void 0===_assertThisInitialize?void 0:_assertThisInitialize.groupResource,params:{fields:["displayName","id","".concat(null===(_assertThisInitialize2=Object(assertThisInitialized.a)(_this))||void 0===_assertThisInitialize2?void 0:_assertThisInitialize2.resource,"[displayName,id]")]}}},_this.dataSourcesQuery={sources:{resource:_this.resource,params:function params(_ref2){return{page:_ref2.page,totalPages:!0,fields:["displayName","id"],filter:_ref2.filter,order:"displayName:asc"}}}},_this.getGroups=_this.getGroups.bind(Object(assertThisInitialized.a)(_this)),_this.getDataSources=_this.getDataSources.bind(Object(assertThisInitialized.a)(_this)),_this.filter=_this.filter.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(createClass.a)(NativeDataSource,[{key:"getGroups",value:(_getGroups=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(engine){var _yield$engine$query,_yield$engine$query$g;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,engine.query(this.groupsQuery);case 2:if(_context.t1=_yield$engine$query=_context.sent,_context.t0=null===_context.t1,_context.t0){_context.next=6;break}_context.t0=void 0===_yield$engine$query;case 6:if(!_context.t0){_context.next=10;break}_context.t2=void 0,_context.next=11;break;case 10:_context.t2=null===(_yield$engine$query$g=_yield$engine$query.groups)||void 0===_yield$engine$query$g?void 0:_yield$engine$query$g["".concat(this.groupResource)];case 11:return _context.abrupt("return",_context.t2);case 12:case"end":return _context.stop()}}),_callee,this)}))),function getGroups(_x){return _getGroups.apply(this,arguments)})},{key:"getDataSources",value:(_getDataSources=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(engine,_ref3){var _response$sources,_response$sources2,page,filter,response;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return page=_ref3.page,filter=_ref3.filter,_ref3.programId,_context2.next=3,null==engine?void 0:engine.query(this.dataSourcesQuery,{variables:{page:page,filter:null!=filter?filter:[]}});case 3:return response=_context2.sent,_context2.abrupt("return",{data:null==response||null===(_response$sources=response.sources)||void 0===_response$sources?void 0:_response$sources[this.resource],pager:null==response||null===(_response$sources2=response.sources)||void 0===_response$sources2?void 0:_response$sources2.pager});case 5:case"end":return _context2.stop()}}),_callee2,this)}))),function getDataSources(_x2,_x3){return _getDataSources.apply(this,arguments)})},{key:"filter",value:(_filter=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(engine,_ref4){var page,selectedGroup,searchKeyword,filter;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return page=_ref4.page,selectedGroup=_ref4.selectedGroup,searchKeyword=_ref4.searchKeyword,filter=[],(null==selectedGroup?void 0:selectedGroup.id)&&filter.push("".concat(this.groupKey,":eq:").concat(selectedGroup.id)),searchKeyword&&filter.push("displayName:ilike:".concat(searchKeyword)),_context3.next=6,this.getDataSources(engine,{page:page,filter:filter});case 6:return _context3.abrupt("return",_context3.sent);case 7:case"end":return _context3.stop()}}),_callee3,this)}))),function filter(_x4,_x5){return _filter.apply(this,arguments)})}]),NativeDataSource}(dataSource_DataSource),keysQuery={keys:{resource:"dataStore/functions"}},customFunctions_generateQuery=function generateQuery(keys){return Object(lodash.fromPairs)(null==keys?void 0:keys.map((function(key){return[key,{resource:"dataStore/functions",id:key}]})))},customFunctions_CustomFunctions=function(_DataSource){Object(inherits.a)(CustomFunctions,_DataSource);var _getDataSources,_getGroups,_filter2,_queryData,_setQuery,_super=Object(createSuper.a)(CustomFunctions);function CustomFunctions(_ref){var _this,label=_ref.label;return Object(classCallCheck.a)(this,CustomFunctions),(_this=_super.call(this,{resource:"",label:label,type:"customFunction"})).functions=void 0,_this.keys=void 0,_this.rules=void 0,_this.query=void 0,_this}return Object(createClass.a)(CustomFunctions,[{key:"setQuery",value:(_setQuery=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(engine){var _yield$engine$query;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,engine.query(keysQuery);case 2:if(_context.t1=_yield$engine$query=_context.sent,_context.t0=null===_context.t1,_context.t0){_context.next=6;break}_context.t0=void 0===_yield$engine$query;case 6:if(!_context.t0){_context.next=10;break}_context.t2=void 0,_context.next=11;break;case 10:_context.t2=_yield$engine$query.keys;case 11:this.keys=_context.t2,this.query=customFunctions_generateQuery(this.keys);case 13:case"end":return _context.stop()}}),_callee,this)}))),function setQuery(_x){return _setQuery.apply(this,arguments)})},{key:"queryData",value:(_queryData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(engine){var _this$functions;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,this.setQuery(engine);case 3:return _context2.t0=Object,_context2.next=6,engine.query(this.query);case 6:_context2.t1=_context2.sent,this.functions=_context2.t0.values.call(_context2.t0,_context2.t1),this.rules=Object(lodash.flattenDeep)(null===(_this$functions=this.functions)||void 0===_this$functions?void 0:_this$functions.map((function(func){var _func$rules;return null===(_func$rules=func.rules)||void 0===_func$rules?void 0:_func$rules.map((function(rule){return{id:"".concat(func.id,".").concat(rule.id),displayName:rule.name}}))}))),_context2.next=16;break;case 11:_context2.prev=11,_context2.t2=_context2.catch(0),console.error(_context2.t2),this.functions=[],this.rules=[];case 16:case"end":return _context2.stop()}}),_callee2,this,[[0,11]])}))),function queryData(_x2){return _queryData.apply(this,arguments)})},{key:"filter",value:(_filter2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(engine,_ref2){var selectedGroup,page,searchKeyword,filter;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return selectedGroup=_ref2.selectedGroup,page=_ref2.page,searchKeyword=_ref2.searchKeyword,filter={group:void 0,search:void 0},selectedGroup&&(filter.group=null==selectedGroup?void 0:selectedGroup.id),searchKeyword&&(filter.search=searchKeyword),_context3.abrupt("return",this.getDataSources(engine,{filter:filter,page:page}));case 5:case"end":return _context3.stop()}}),_callee3,this)}))),function filter(_x3,_x4){return _filter2.apply(this,arguments)})},{key:"getGroups",value:(_getGroups=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(engine){return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(this.functions){_context4.next=3;break}return _context4.next=3,this.queryData(engine);case 3:return _context4.abrupt("return",this.functions);case 4:case"end":return _context4.stop()}}),_callee4,this)}))),function getGroups(_x5){return _getGroups.apply(this,arguments)})},{key:"getDataSources",value:(_getDataSources=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee5(engine,_ref3){var _filteredRules,filter,filteredRules;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(filter=_ref3.filter,this.functions){_context5.next=4;break}return _context5.next=4,this.queryData(engine);case 4:if(!Object(lodash.isEmpty)(filter)){_context5.next=6;break}return _context5.abrupt("return",{pager:{pageCount:1},data:this.rules});case 6:return filteredRules=this.rules,!Object(lodash.isArray)(filter)&&(null==filter?void 0:filter.group)&&(filteredRules=Object(lodash.filter)(filteredRules,(function(_ref4){return _ref4.id.startsWith(null==filter?void 0:filter.group)}))),!Object(lodash.isArray)(filter)&&(null==filter?void 0:filter.search)&&(filteredRules=Object(lodash.filter)(filteredRules,(function(_ref5){var _filter$search$toLowe,_filter$search;return _ref5.displayName.toLowerCase().match(RegExp(null!==(_filter$search$toLowe=null==filter||null===(_filter$search=filter.search)||void 0===_filter$search?void 0:_filter$search.toLowerCase())&&void 0!==_filter$search$toLowe?_filter$search$toLowe:""))}))),_context5.abrupt("return",Promise.resolve({pager:{pageCount:1},data:null!==(_filteredRules=filteredRules)&&void 0!==_filteredRules?_filteredRules:[]}));case 10:case"end":return _context5.stop()}}),_callee5,this)}))),function getDataSources(_x6,_x7){return _getDataSources.apply(this,arguments)})}]),CustomFunctions}(dataSource_DataSource),get=__webpack_require__(616),getPrototypeOf=__webpack_require__(168),dataElements_DataElements=function(_NativeDataSource){Object(inherits.a)(DataElements,_NativeDataSource);var _getDataSources,_super=Object(createSuper.a)(DataElements);function DataElements(){return Object(classCallCheck.a)(this,DataElements),_super.apply(this,arguments)}return Object(createClass.a)(DataElements,[{key:"getDataSources",value:(_getDataSources=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(engine,_ref){var page,filter,finalFilter;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return page=_ref.page,filter=_ref.filter,finalFilter=[].concat(Object(toConsumableArray.a)(null!=filter?filter:[]),["valueType:eq:NUMBER"]),_context.abrupt("return",Object(get.a)(Object(getPrototypeOf.a)(DataElements.prototype),"getDataSources",this).call(this,engine,{page:page,filter:finalFilter}));case 3:case"end":return _context.stop()}}),_callee,this)}))),function getDataSources(_x,_x2){return _getDataSources.apply(this,arguments)})}]),DataElements}(nativeDataSource_NativeDataSource),utils=__webpack_require__(134),dataSets_DataSets=function(_DataSource){Object(inherits.a)(DataSets,_DataSource);var _filter3,_getGroups,_getDataSources,_getData,_super=Object(createSuper.a)(DataSets);function DataSets(_ref){var _this,label=_ref.label;return Object(classCallCheck.a)(this,DataSets),(_this=_super.call(this,{resource:"",label:null!=label?label:"Data Sets",type:"dataSet"})).groupKey="dataSets.id",_this.groupResource="dataSets",_this.categories=[{label:"Reporting rate",id:"REPORTING_RATE"},{label:"Reporting rate on time",id:"REPORTING_RATE_ON_TIME"},{label:"Actual reports",id:"ACTUAL_REPORTS"},{label:"Actual reports on time",id:"ACTUAL_REPORTS_ON_TIME"},{label:"Expected Reports",id:"EXPECTED_REPORTS"}],_this.groups=[],_this.groupQuery={dataSets:{resource:_this.groupResource,params:function params(_ref2){return{page:_ref2.page,fields:["id","displayName"],totalPages:!0,filter:_ref2.filter,order:"displayName:asc"}}}},_this}return Object(createClass.a)(DataSets,[{key:"getData",value:(_getData=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(engine){var _engine$query;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:this.groups=null===(_engine$query=engine.query(this.groupQuery))||void 0===_engine$query?void 0:_engine$query.dataSets;case 1:case"end":return _context.stop()}}),_callee,this)}))),function getData(_x){return _getData.apply(this,arguments)})},{key:"getDataSources",value:(_getDataSources=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(engine,_ref3){var _response$dataSets,_response$dataSets2,_response$dataSets2$d,filter,page,response,_this2=this;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return filter=_ref3.filter,page=_ref3.page,_context2.next=3,engine.query(this.groupQuery,{variables:{filter:filter,page:page}});case 3:return response=_context2.sent,_context2.abrupt("return",{pager:null==response||null===(_response$dataSets=response.dataSets)||void 0===_response$dataSets?void 0:_response$dataSets.pager,data:Object(lodash.flattenDeep)(null==response||null===(_response$dataSets2=response.dataSets)||void 0===_response$dataSets2||null===(_response$dataSets2$d=_response$dataSets2.dataSets)||void 0===_response$dataSets2$d?void 0:_response$dataSets2$d.map((function(_ref4){var id=_ref4.id,displayName=_ref4.displayName;return _this2.categories.map((function(_ref5){var categoryId=_ref5.id,categoryLabel=_ref5.label;return{id:"".concat(id,".").concat(categoryId),displayName:"".concat(displayName," - ").concat(categoryLabel)}}))})))});case 5:case"end":return _context2.stop()}}),_callee2,this)}))),function getDataSources(_x2,_x3){return _getDataSources.apply(this,arguments)})},{key:"getGroups",value:(_getGroups=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(engine){var _response$dataSets$da,_response$dataSets3,response;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,engine.query(this.groupQuery,{variables:{filter:null,page:1}});case 2:return response=_context3.sent,_context3.abrupt("return",null!==(_response$dataSets$da=null==response||null===(_response$dataSets3=response.dataSets)||void 0===_response$dataSets3?void 0:_response$dataSets3.dataSets)&&void 0!==_response$dataSets$da?_response$dataSets$da:[]);case 4:case"end":return _context3.stop()}}),_callee3,this)}))),function getGroups(_x4){return _getGroups.apply(this,arguments)})},{key:"filter",value:(_filter3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(engine,_ref6){var _filter2,selectedGroup,page,searchKeyword,_yield$this$getDataSo,data,pager,filteredData,searchedData,_filteredData;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _filter2=_ref6.filter,selectedGroup=_ref6.selectedGroup,page=_ref6.page,searchKeyword=_ref6.searchKeyword,_context4.next=3,this.getDataSources(engine,{filter:_filter2,page:page});case 3:if(_yield$this$getDataSo=_context4.sent,data=_yield$this$getDataSo.data,pager=_yield$this$getDataSo.pager,!selectedGroup){_context4.next=12;break}if(filteredData=Object(lodash.filter)(data,(function(_ref7){return _ref7.id.split(".")[0]===(null==selectedGroup?void 0:selectedGroup.id)})),!searchKeyword){_context4.next=11;break}return searchedData=Object(lodash.filter)(filteredData,(function(_ref8){var id=_ref8.id,displayName=_ref8.displayName;return"".concat(id,"-").concat(displayName).match(new RegExp(searchKeyword))})),_context4.abrupt("return",{pager:Object(utils.b)(pager,searchedData.length),data:searchedData});case 11:return _context4.abrupt("return",Promise.resolve({pager:Object(utils.b)(pager,filteredData.length),data:filteredData}));case 12:if(!searchKeyword){_context4.next=15;break}return _filteredData=Object(lodash.filter)(data,(function(_ref9){var id=_ref9.id,displayName=_ref9.displayName;return"".concat(id,"-").concat(displayName).toLowerCase().match(new RegExp(searchKeyword.toLowerCase()))})),_context4.abrupt("return",Promise.resolve({pager:Object(utils.b)(pager,_filteredData.length),data:_filteredData}));case 15:return _context4.next=17,this.getDataSources(engine,{filter:_filter2,page:page});case 17:return _context4.abrupt("return",_context4.sent);case 18:case"end":return _context4.stop()}}),_callee4,this)}))),function filter(_x5,_x6){return _filter3.apply(this,arguments)})}]),DataSets}(dataSource_DataSource);__webpack_require__(275);function DataSourceSelector(_ref){var _head,onSubmit=_ref.onSubmit,disabled=_ref.disabled,dataSources=_ref.dataSources,maxSelections=_ref.maxSelections,dataSourcesList=Object(react.useMemo)((function(){return function getDataSourcesList(dataSourcesConfig){return Object(lodash.isArray)(dataSourcesConfig)&&!Object(lodash.isEmpty)(dataSourcesConfig)?Object(lodash.compact)(Object(lodash.map)(dataSourcesConfig,(function(dataSourceType){var dataSourceConfig=Object(lodash.find)(DATA_SOURCES,["type",dataSourceType]);if(dataSourceConfig){if(dataSourceConfig.native)return new nativeDataSource_NativeDataSource(dataSourceConfig);if("dataElement"===dataSourceConfig.type)return new dataElements_DataElements(dataSourceConfig);if("customFunction"===dataSourceConfig.type)return new customFunctions_CustomFunctions(dataSourceConfig);if("dataSet"===dataSourceConfig.type)return new dataSets_DataSets(dataSourceConfig)}}))):[]}(dataSources)}),[dataSources]),_useState=Object(react.useState)(null!==(_head=Object(lodash.head)(dataSourcesList))&&void 0!==_head?_head:new nativeDataSource_NativeDataSource(DATA_SOURCES[0])),_useState2=Object(slicedToArray.a)(_useState,2),selectedDataSourceType=_useState2[0],setSelectedDataSourceType=_useState2[1],_useState3=Object(react.useState)(),_useState4=Object(slicedToArray.a)(_useState3,2),selectedGroup=_useState4[0],setSelectedGroup=_useState4[1],_useState5=Object(react.useState)([]),_useState6=Object(slicedToArray.a)(_useState5,2),selectedDataSources=_useState6[0],setSelectedDataSources=_useState6[1];return Object(jsx_runtime.jsxs)("div",{className:"start",children:[Object(jsx_runtime.jsx)(es.h,{}),Object(jsx_runtime.jsxs)("div",{className:"container-bordered column",children:[Object(jsx_runtime.jsx)("div",{className:"row p-8 wrap",children:dataSourcesList.length>1&&(null==dataSourcesList?void 0:dataSourcesList.map((function(source){return Object(jsx_runtime.jsx)(es.f,{onClick:function onClick(){return function onDataSourceTypeChange(sourceType){setSelectedGroup(void 0),setSelectedDataSourceType(sourceType)}(source)},selected:(null==selectedDataSourceType?void 0:selectedDataSourceType.label)===source.label,children:source.label},"chip-".concat(source.label))})))}),Object(jsx_runtime.jsxs)("div",{className:"column p-16",children:[Object(jsx_runtime.jsx)(GroupSelector,{selectedGroup:selectedGroup,onSelect:function onGroupChange(group){setSelectedGroup(group)},selectedDataType:selectedDataSourceType}),Object(jsx_runtime.jsx)("div",{className:"pt-16",children:Object(jsx_runtime.jsx)(DataSource_DataSource,{maxSelections:maxSelections,disabled:disabled,selected:selectedDataSources,onChange:function onDataSourceSelect(selected){setSelectedDataSources(selected),onSubmit(selected)},selectedGroup:selectedGroup,selectedDataSourceType:selectedDataSourceType})})]})]})]})}try{DataSourceSelector.displayName="DataSourceSelector",DataSourceSelector.__docgenInfo={description:"",displayName:"DataSourceSelector",props:{dataSources:{defaultValue:null,description:"",name:"dataSources",required:!1,type:{name:"dataSource[]"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(data: any) => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"string[]"}},maxSelections:{defaultValue:null,description:"",name:"maxSelections",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataSourceSelector/index.tsx#DataSourceSelector"]={docgenInfo:DataSourceSelector.__docgenInfo,name:"DataSourceSelector",path:"src/components/DataSourceSelector/index.tsx#DataSourceSelector"})}catch(__react_docgen_typescript_loader_error){}var DataSourceSelector_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(DataSourceSelector,Object(objectSpread2.a)({},args))},IndicatorSelector=DataSourceSelector_stories_Template.bind({});IndicatorSelector.args={onSubmit:function onSubmit(data){console.log(data)},dataSources:[],maxSelections:"Infinity"};var WithMaxSelection=DataSourceSelector_stories_Template.bind({});WithMaxSelection.args={onSubmit:function onSubmit(data){console.log(data)},maxSelections:1};var WithAllAvailableDataSources=DataSourceSelector_stories_Template.bind({});WithAllAvailableDataSources.args={onSubmit:function onSubmit(data){console.log(data)},maxSelections:1,dataSources:["dataSet","customFunction","indicator","programIndicator","dataElement"]};__webpack_exports__.default={title:"Components/Data Source Selector",component:DataSourceSelector,decorators:[function(DataSourceSelectorStory){return Object(jsx_runtime.jsx)("div",{className:"row w-100 center",children:Object(jsx_runtime.jsx)("div",{style:{width:600},children:Object(jsx_runtime.jsx)(DataSourceSelectorStory,{})})})}],argTypes:{maxSelections:{control:"radio",options:[1,"Infinity"]}}};IndicatorSelector.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <DataSourceSelector {...args} />"}},IndicatorSelector.parameters),WithMaxSelection.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <DataSourceSelector {...args} />"}},WithMaxSelection.parameters),WithAllAvailableDataSources.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <DataSourceSelector {...args} />"}},WithAllAvailableDataSources.parameters)},1300:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NativeInputs",(function(){return NativeInputs})),__webpack_require__.d(__webpack_exports__,"LegendDefinitionInput",(function(){return LegendDefinitionInput})),__webpack_require__.d(__webpack_exports__,"LegendMinMax",(function(){return FormField_stories_LegendMinMax})),__webpack_require__.d(__webpack_exports__,"MultipleFields",(function(){return MultipleFields})),__webpack_require__.d(__webpack_exports__,"MultipleFieldsWithSpecifiedListOfFields",(function(){return MultipleFieldsWithSpecifiedListOfFields}));var objectSpread2=__webpack_require__(7),react=__webpack_require__(0),classCallCheck=__webpack_require__(87),createClass=__webpack_require__(88),lodash=__webpack_require__(5),field_FormFieldModel=function(){function FormFieldModel(attributes){Object(classCallCheck.a)(this,FormFieldModel),this.id=void 0,this.name=void 0,this.valueType=void 0,this.name=attributes.name,this.valueType=attributes.valueType,Object(lodash.defaultsDeep)(this,attributes,this.defaults)}return Object(createClass.a)(FormFieldModel,[{key:"defaults",get:function get(){return{}}}]),FormFieldModel}(),VALUE_TYPES={INTEGER:{name:"INTEGER",formName:"number"},TRUE_ONLY:{name:"TRUE_ONLY",formName:"checkbox"},TEXT:{name:"TEXT",formName:"text"},NUMBER:{name:"NUMBER",formName:"number"},DATE:{name:"DATE",formName:"date"},LONG_TEXT:{name:"LONG_TEXT",formName:"textarea"},LEGEND_DEFINITION:{name:"LEGEND_DEFINITION",formName:"legendDefinition"},RICH_TEXT:{name:"RICH_TEXT",formName:"richText"},LEGEND_MIN_MAX:{name:"LEGEND_MIN_MAX",formName:"legendMinMax"},NORMAL_LEGEND_MIN_MAX:{name:"NORMAL_LEGEND_MIN_MAX",formName:"normalLegendMinMax"},LEVEL_LEGEND_MIN_MAX:{name:"LEVEL_LEGEND_MIN_MAX",formName:"levelLegendMinMax"},MULTIPLE_FIELDS:{name:"MULTIPLE_FIELDS",formName:"multipleFields"}},es=__webpack_require__(8),objectWithoutProperties=__webpack_require__(78),jsx_runtime=__webpack_require__(2),_excluded=["name","value","onChange"];function CustomCheckboxField(_ref){var name=_ref.name,value=_ref.value,_onChange=_ref.onChange,props=Object(objectWithoutProperties.a)(_ref,_excluded);return Object(jsx_runtime.jsx)(es.e,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{checked:Boolean(value),onChange:function onChange(_ref2){var checked=_ref2.checked;return _onChange({value:checked,name:name})}}))}try{CustomCheckboxField.displayName="CustomCheckboxField",CustomCheckboxField.__docgenInfo={description:"",displayName:"CustomCheckboxField",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"OnChange"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormField/components/Input/components/CustomCheckboxField.tsx#CustomCheckboxField"]={docgenInfo:CustomCheckboxField.__docgenInfo,name:"CustomCheckboxField",path:"src/components/FormField/components/Input/components/CustomCheckboxField.tsx#CustomCheckboxField"})}catch(__react_docgen_typescript_loader_error){}var CustomSingleSelect_excluded=["options","onChange","value","name"];function CustomSingleSelect(_ref){var options=_ref.options,_onChange=_ref.onChange,value=_ref.value,name=_ref.name,props=Object(objectWithoutProperties.a)(_ref,CustomSingleSelect_excluded);return Object(jsx_runtime.jsx)(es.E,Object(objectSpread2.a)(Object(objectSpread2.a)({selected:value,onChange:function onChange(_ref2){var selected=_ref2.selected;return _onChange({name:name,value:selected})}},props),{},{children:null==options?void 0:options.map((function(_ref3){var label=_ref3.label,value=_ref3.value;return Object(jsx_runtime.jsx)(es.F,{label:label,value:value},value)}))}))}try{CustomSingleSelect.displayName="CustomSingleSelect",CustomSingleSelect.__docgenInfo={description:"",displayName:"CustomSingleSelect",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"{ label: string; value: any; }[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"OnChange"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormField/components/Input/components/CustomSingleSelect.tsx#CustomSingleSelect"]={docgenInfo:CustomSingleSelect.__docgenInfo,name:"CustomSingleSelect",path:"src/components/FormField/components/Input/components/CustomSingleSelect.tsx#CustomSingleSelect"})}catch(__react_docgen_typescript_loader_error){}var slicedToArray=__webpack_require__(31),react_color_es=__webpack_require__(614),utils=__webpack_require__(134);__webpack_require__(540);function ColorPickerPopper(_ref){var reference=_ref.reference,value=_ref.value,onClose=_ref.onClose,_onChange=_ref.onChange;return Object(jsx_runtime.jsx)(es.C,{reference:reference,placement:"auto",strategy:"fixed",className:"popper",onClickOutside:onClose,children:Object(jsx_runtime.jsx)(react_color_es.a,{color:{hex:value},onChange:function onChange(color){_onChange(color.hex),onClose()}})})}function LegendDefinitionField(_ref2){var name=_ref2.name,label=_ref2.label,value=_ref2.value,onChange=_ref2.onChange,_ref3=null!=value?value:{},color=_ref3.color,legendName=_ref3.name,id=_ref3.id,_useState=Object(react.useState)(void 0),_useState2=Object(slicedToArray.a)(_useState,2),reference=_useState2[0],setReference=_useState2[1];return Object(jsx_runtime.jsxs)(es.i,{name:name,label:label,value:value,children:[Object(jsx_runtime.jsxs)("div",{id:name,className:"legend-definition-container",children:[Object(jsx_runtime.jsx)("div",{id:"color-selector-btn-".concat(name),onClick:function onClick(e){return setReference(e.currentTarget)},style:{background:color,borderColor:"#D5DDE5"},className:"legend-color",children:color}),Object(jsx_runtime.jsx)("div",{className:"legend-input",children:Object(jsx_runtime.jsx)(es.t,{dataTest:"legend-definition-text-".concat(name),onChange:function onNameChange(newName){onChange({name:name,value:Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{id:null!=id?id:Object(utils.a)(),name:newName.value})})},value:legendName})})]}),reference&&Object(jsx_runtime.jsx)(ColorPickerPopper,{onClose:function onClose(){return setReference(void 0)},reference:reference,value:null==value?void 0:value.color,onChange:function onColorChange(color){onChange({name:name,value:Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{id:null!=id?id:Object(utils.a)(),color:color})})}})]})}try{LegendDefinitionField.displayName="LegendDefinitionField",LegendDefinitionField.__docgenInfo={description:"",displayName:"LegendDefinitionField",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"OnChange"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormField/components/Input/components/LegendDefinitionField.tsx#LegendDefinitionField"]={docgenInfo:LegendDefinitionField.__docgenInfo,name:"LegendDefinitionField",path:"src/components/FormField/components/Input/components/LegendDefinitionField.tsx#LegendDefinitionField"})}catch(__react_docgen_typescript_loader_error){}var legend_Legend=function(){function Legend(_ref){var id=_ref.id,legendDefinitionId=_ref.legendDefinitionId;Object(classCallCheck.a)(this,Legend),this.id=void 0,this.legendDefinitionId=void 0,this.startValue=void 0,this.endValue=void 0,this.id=null!=id?id:Object(utils.a)(),this.legendDefinitionId=legendDefinitionId}return Object(createClass.a)(Legend,null,[{key:"set",value:function set(object,key,value){if(key){var updatedObject=Object(lodash.cloneDeep)(object);return updatedObject[key]=value,updatedObject}return this}}]),Legend}();function LegendMinMax(_ref){var _value$min,name=_ref.name,value=_ref.value,_onChange=_ref.onChange,legendDefinition=_ref.legendDefinition,_ref2=null!=legendDefinition?legendDefinition:{},id=_ref2.id,color=_ref2.color,legendName=_ref2.name,legend=Object(react.useMemo)((function(){return new legend_Legend({legendDefinitionId:id})}),[id]);return Object(jsx_runtime.jsx)(es.i,{name:name,value:value,label:void 0,children:Object(jsx_runtime.jsxs)("div",{className:"row space-between w-100 align-items-end",children:[Object(jsx_runtime.jsxs)("div",{className:"row",children:[Object(jsx_runtime.jsx)("div",{className:"pr-16",style:{backgroundColor:color,border:"1px solid ".concat(color),height:24,width:48,marginRight:4}}),Object(jsx_runtime.jsx)("label",{className:"pl-8",children:legendName})]}),Object(jsx_runtime.jsxs)("div",{className:"row space-between",children:[Object(jsx_runtime.jsx)(es.u,{value:null==value?void 0:value.startValue,type:"number",min:"0",max:"".concat(null==value?void 0:value.max),onChange:function onChange(_ref3){var newValue=_ref3.value,object=null!=value?value:legend;_onChange({name:name,value:legend_Legend.set(object,"startValue",newValue)})},className:"pr-8",label:"Min"}),Object(jsx_runtime.jsx)(es.u,{value:null==value?void 0:value.endValue,type:"number",min:"".concat(null!==(_value$min=null==value?void 0:value.min)&&void 0!==_value$min?_value$min:0),onChange:function onChange(_ref4){var newValue=_ref4.value,object=null!=value?value:legend;_onChange({name:name,value:legend_Legend.set(object,"endValue",newValue)})},label:"Max"})]})]})})}try{LegendMinMax.displayName="LegendMinMax",LegendMinMax.__docgenInfo={description:"",displayName:"LegendMinMax",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"OnChange"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},legendDefinition:{defaultValue:null,description:"",name:"legendDefinition",required:!0,type:{name:"LegendDefinition"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormField/components/Input/components/LegendMinMax.tsx#LegendMinMax"]={docgenInfo:LegendMinMax.__docgenInfo,name:"LegendMinMax",path:"src/components/FormField/components/Input/components/LegendMinMax.tsx#LegendMinMax"})}catch(__react_docgen_typescript_loader_error){}var toConsumableArray=__webpack_require__(45),build_es=__webpack_require__(13),MultipleFieldsField_excluded=["name","value","onChange","multipleField","initialFieldCount","multipleFields"];function MultipleFieldsField(_ref){var name=_ref.name,value=_ref.value,onChange=_ref.onChange,multipleField=_ref.multipleField,initialFieldCount=_ref.initialFieldCount,multipleFields=_ref.multipleFields,props=Object(objectWithoutProperties.a)(_ref,MultipleFieldsField_excluded),_useState=Object(react.useState)([]),_useState2=Object(slicedToArray.a)(_useState,2),fields=_useState2[0],setFields=_useState2[1];Object(react.useEffect)((function(){!function setInitialFields(){if(multipleField){for(var count=(null==value?void 0:value.length)||initialFieldCount||1,i=0,_fields=[];i<count;i++){var newField=new field_FormFieldModel(Object(objectSpread2.a)({},multipleField));Object(lodash.set)(newField,["id"],"".concat(newField.id,"-").concat(_fields.length)),Object(lodash.set)(newField,["name"],"".concat(newField.id,"-").concat(_fields.length)),_fields.push(newField)}setFields(_fields)}}()}),[]);var onDeleteField=function onDeleteField(field,index){var temp=Object(toConsumableArray.a)(fields);Object(lodash.remove)(temp,["id",field.id]);var tempValue=value?Object(toConsumableArray.a)(value):[];tempValue.splice(index,1),onChange({value:tempValue,name:field.name}),setFields(Object(toConsumableArray.a)(temp))},onFieldValueChange=function onFieldValueChange(index,newValue){var tempValue=value?Object(toConsumableArray.a)(value):[];try{tempValue[index]=newValue}catch(e){tempValue.push(newValue)}onChange({value:tempValue,name:name})};return Object(jsx_runtime.jsx)(es.i,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{children:Object(jsx_runtime.jsxs)("div",{className:"column",children:[multipleField?fields.map((function(field,index){var _value$index,input={name:field.name,onChange:function onChange(value){return onFieldValueChange(index,value)},value:null==value?void 0:value[index]};return Object(jsx_runtime.jsxs)("div",{className:"row align-items-center w-100",children:[Object(jsx_runtime.jsx)("div",{className:"column w-75",children:Object(jsx_runtime.jsx)(Input_Input,{valueType:field.valueType,input:input})}),Object(jsx_runtime.jsx)("div",{className:"column w-25",children:!(null==value||null===(_value$index=value[index])||void 0===_value$index?void 0:_value$index.isDefault)&&Object(jsx_runtime.jsx)(es.b,{disabled:0===index&&1===fields.length,icon:Object(jsx_runtime.jsx)(es.n,{}),onClick:function onClick(){return onDeleteField(field,index)},children:build_es.a.t("Delete")})})]},"".concat(null==field?void 0:field.id,"-").concat(index))})):null==multipleFields?void 0:multipleFields.map((function(field,index){var input={name:field.name,onChange:function onChange(value){return onFieldValueChange(index,value)},value:null==value?void 0:value[index]};return Object(jsx_runtime.jsxs)("div",{className:"row align-items-center w-100",children:[Object(jsx_runtime.jsx)("div",{className:"column w-100",children:Object(jsx_runtime.jsx)(Input_Input,Object(objectSpread2.a)({valueType:field.valueType,input:input},field))}),multipleField&&Object(jsx_runtime.jsx)("div",{className:"column",children:Object(jsx_runtime.jsx)(es.b,{disabled:0===index&&1===fields.length,icon:Object(jsx_runtime.jsx)(es.n,{}),onClick:function onClick(){return onDeleteField(field,index)},children:build_es.a.t("Delete")})})]},"".concat(null==field?void 0:field.id,"-").concat(index))})),multipleField&&Object(jsx_runtime.jsx)("div",{className:"w-50",children:Object(jsx_runtime.jsx)(es.b,{icon:Object(jsx_runtime.jsx)(es.j,{}),onClick:function onAddField(){var newField=new field_FormFieldModel(Object(objectSpread2.a)({},multipleField));Object(lodash.set)(newField,["id"],"".concat(newField.id,"-").concat(fields.length)),Object(lodash.set)(newField,["name"],"".concat(newField.id,"-").concat(fields.length)),setFields([].concat(Object(toConsumableArray.a)(fields),[newField]))},children:build_es.a.t("Add Item")})})]})}))}try{MultipleFieldsField.displayName="MultipleFieldsField",MultipleFieldsField.__docgenInfo={description:"",displayName:"MultipleFieldsField",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"OnChange"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},multipleField:{defaultValue:null,description:"",name:"multipleField",required:!0,type:{name:"FormFieldProps"}},initialFieldCount:{defaultValue:null,description:"",name:"initialFieldCount",required:!1,type:{name:"number"}},multipleFields:{defaultValue:null,description:"",name:"multipleFields",required:!1,type:{name:"any[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormField/components/Input/components/MultipleFieldsField/index.tsx#MultipleFieldsField"]={docgenInfo:MultipleFieldsField.__docgenInfo,name:"MultipleFieldsField",path:"src/components/FormField/components/Input/components/MultipleFieldsField/index.tsx#MultipleFieldsField"})}catch(__react_docgen_typescript_loader_error){}var jodit_react=__webpack_require__(613),jodit_react_default=__webpack_require__.n(jodit_react),RichTextEditor_excluded=["name","label","value","onChange"];function RichTextEditor(_ref){var name=_ref.name,label=_ref.label,value=_ref.value,onChange=_ref.onChange,props=Object(objectWithoutProperties.a)(_ref,RichTextEditor_excluded),editorRef=Object(react.useRef)(null);return Object(jsx_runtime.jsx)(es.i,Object(objectSpread2.a)(Object(objectSpread2.a)({name:name,label:label,value:null==value?void 0:value.value},props),{},{children:Object(jsx_runtime.jsx)(jodit_react_default.a,{ref:editorRef,value:value,onBlur:function onBlur(newValue){return onChange({name:name,value:newValue})},config:{readonly:!1,defaultFontSizePoints:"pt"}})}))}try{RichTextEditor.displayName="RichTextEditor",RichTextEditor.__docgenInfo={description:"",displayName:"RichTextEditor",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"OnChange"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormField/components/Input/components/RichTextEditor/index.tsx#RichTextEditor"]={docgenInfo:RichTextEditor.__docgenInfo,name:"RichTextEditor",path:"src/components/FormField/components/Input/components/RichTextEditor/index.tsx#RichTextEditor"})}catch(__react_docgen_typescript_loader_error){}var Input_excluded=["input","valueType","optionSet"];function Input_Input(_ref){var input=_ref.input,valueType=_ref.valueType,optionSet=_ref.optionSet,props=Object(objectWithoutProperties.a)(_ref,Input_excluded),type=Object(react.useMemo)((function(){return VALUE_TYPES[valueType].formName}),[valueType]),options=Object(lodash.map)(null==optionSet?void 0:optionSet.options,(function(_ref2){return{label:_ref2.name,value:_ref2.code}})),Input=Object(react.useMemo)((function(){if(optionSet&&optionSet.options)return CustomSingleSelect;switch(valueType){case VALUE_TYPES.DATE.name:case VALUE_TYPES.TEXT.name:case VALUE_TYPES.NUMBER.name:case VALUE_TYPES.INTEGER.name:return es.u;case VALUE_TYPES.LONG_TEXT.name:return es.J;case VALUE_TYPES.TRUE_ONLY.name:return CustomCheckboxField;case VALUE_TYPES.LEGEND_DEFINITION.name:return LegendDefinitionField;case VALUE_TYPES.RICH_TEXT.name:return RichTextEditor;case VALUE_TYPES.LEGEND_MIN_MAX.name:return LegendMinMax;case VALUE_TYPES.MULTIPLE_FIELDS.name:return MultipleFieldsField;default:return es.u}}),[optionSet,valueType]),_onChange=input.onChange;return Object(jsx_runtime.jsxs)("div",{className:"field-container",children:[Object(jsx_runtime.jsx)(es.h,{}),Object(jsx_runtime.jsx)(Input,Object(objectSpread2.a)(Object(objectSpread2.a)(Object(objectSpread2.a)({},input),props),{},{type:type,options:options,onChange:function onChange(_ref3){var value=_ref3.value;return _onChange(value)}}))]})}try{Input_Input.displayName="Input",Input_Input.__docgenInfo={description:"",displayName:"Input",props:{input:{defaultValue:null,description:"",name:"input",required:!0,type:{name:"FinalFormFieldInput"}},valueType:{defaultValue:null,description:"",name:"valueType",required:!0,type:{name:"string"}},optionSet:{defaultValue:null,description:"",name:"optionSet",required:!1,type:{name:"OptionSet"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},validations:{defaultValue:null,description:"",name:"validations",required:!1,type:{name:"any"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"string | number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"string | number"}},mandatory:{defaultValue:null,description:"",name:"mandatory",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},multipleField:{defaultValue:null,description:"",name:"multipleField",required:!1,type:{name:"InputProps"}},multipleFields:{defaultValue:null,description:"",name:"multipleFields",required:!1,type:{name:"FormFieldModel[]"}},legendDefinition:{defaultValue:null,description:"",name:"legendDefinition",required:!1,type:{name:"LegendDefinition"}},initialFieldCount:{defaultValue:null,description:"",name:"initialFieldCount",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormField/components/Input/index.tsx#Input"]={docgenInfo:Input_Input.__docgenInfo,name:"Input",path:"src/components/FormField/components/Input/index.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}var Field=es.D.Field;function FormField(field){return Object(jsx_runtime.jsx)(Field,Object(objectSpread2.a)(Object(objectSpread2.a)({},field),{},{component:Input_Input}))}try{FormField.displayName="FormField",FormField.__docgenInfo={description:"",displayName:"FormField",props:{valueType:{defaultValue:null,description:"",name:"valueType",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},validations:{defaultValue:null,description:"",name:"validations",required:!1,type:{name:"any"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"string | number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"string | number"}},mandatory:{defaultValue:null,description:"",name:"mandatory",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},multipleField:{defaultValue:null,description:"",name:"multipleField",required:!1,type:{name:"FormFieldProps"}},multipleFields:{defaultValue:null,description:"",name:"multipleFields",required:!1,type:{name:"FormFieldProps[]"}},legendDefinition:{defaultValue:null,description:"",name:"legendDefinition",required:!1,type:{name:"LegendDefinition"}},optionSet:{defaultValue:null,description:"",name:"optionSet",required:!1,type:{name:"OptionSet"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormField/index.tsx#FormField"]={docgenInfo:FormField.__docgenInfo,name:"FormField",path:"src/components/FormField/index.tsx#FormField"})}catch(__react_docgen_typescript_loader_error){}var FormField_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(Input_Input,Object(objectSpread2.a)({},args))},NativeInputs=FormField_stories_Template.bind({});NativeInputs.args={valueType:VALUE_TYPES.TEXT.name,input:{value:"Text field",onChange:console.log,name:"text",label:"Text Field"}};var LegendDefinitionInput=FormField_stories_Template.bind({});LegendDefinitionInput.args={valueType:VALUE_TYPES.LEGEND_DEFINITION.name,input:{value:{name:"Target Reached",color:"#147e14"},onChange:console.log,name:"legend-definition",label:"Legend"}};var FormField_stories_LegendMinMax=FormField_stories_Template.bind({});FormField_stories_LegendMinMax.args={valueType:VALUE_TYPES.LEGEND_MIN_MAX.name,input:{value:{id:"legend-id",legendDefinitionId:"legend-definition-id",startValue:1,endValue:100},onChange:console.log,name:"legend-definition",label:"Legend"},legendDefinition:{name:"Target Reached",id:"legend-defn-id",color:"#147e14"}};var MultipleFields=FormField_stories_Template.bind({});MultipleFields.args={valueType:VALUE_TYPES.MULTIPLE_FIELDS.name,input:{value:[{name:"Target Reached",color:"#147e14"},{name:"Better Performance",color:"#eeea21"},{name:"Worst Performance",color:"#ee2139"}],onChange:console.log,name:"multiple-fields",label:"Multiple Fields"},multipleField:{valueType:VALUE_TYPES.LEGEND_DEFINITION.name,input:{value:"",onChange:console.log,name:"legend-definition"}},initialFieldCount:4};var MultipleFieldsWithSpecifiedListOfFields=FormField_stories_Template.bind({});MultipleFieldsWithSpecifiedListOfFields.args={valueType:VALUE_TYPES.MULTIPLE_FIELDS.name,input:{value:[{id:"id",legendDefinitionId:"legend-definition-id",startValue:1,endValue:100},{name:"Better Performance",color:"#eeea21"},"Text"],onChange:console.log,name:"multiple-fields",label:"Multiple Fields"},multipleFields:[new field_FormFieldModel({valueType:VALUE_TYPES.LEGEND_MIN_MAX.name,name:"legend-definition",label:"Legend",legendDefinition:{name:"Target Reached",id:"legend-definition-id",color:"#147e14"}}),new field_FormFieldModel({valueType:VALUE_TYPES.LEGEND_DEFINITION.name,name:"legend-definition",label:"Legend"}),new field_FormFieldModel({valueType:VALUE_TYPES.TEXT.name,name:"text",label:"Text Field"})]};__webpack_exports__.default={title:"Components/Custom Inputs",component:Input_Input,decorators:[function(InputStory){return Object(jsx_runtime.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(jsx_runtime.jsx)("div",{style:{width:600,height:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:Object(jsx_runtime.jsx)(InputStory,{})})})}]};NativeInputs.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <Input {...args} />"}},NativeInputs.parameters),LegendDefinitionInput.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <Input {...args} />"}},LegendDefinitionInput.parameters),FormField_stories_LegendMinMax.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <Input {...args} />"}},FormField_stories_LegendMinMax.parameters),MultipleFields.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <Input {...args} />"}},MultipleFields.parameters),MultipleFieldsWithSpecifiedListOfFields.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <Input {...args} />"}},MultipleFieldsWithSpecifiedListOfFields.parameters)},1305:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters})),__webpack_require__.d(preview_namespaceObject,"decorators",(function(){return decorators}));var _process$env$STORYBOO,_parseInt,_process$env$STORYBOO2,client_api=__webpack_require__(1387),esm=__webpack_require__(11),slicedToArray=__webpack_require__(31),regenerator=__webpack_require__(18),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(42),es=__webpack_require__(93),build_es=__webpack_require__(8),react=__webpack_require__(0),create=__webpack_require__(194),theme=Object(create.a)({base:"light",brandTitle:"React UI",brandUrl:"https://github.com/hisptz",brandImage:"https://hisptanzania.org/assets/img/logo/HISP-LOGO.svg",colorSecondary:"#008FD8",colorPrimary:"#FFB801"}),jsx_runtime=__webpack_require__(2),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},docs:{theme:theme}},appConfig={baseUrl:null!==(_process$env$STORYBOO=Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).STORYBOOK_DHIS2_BASE_URL)&&void 0!==_process$env$STORYBOO?_process$env$STORYBOO:"http://localhost:8080",apiVersion:null!==(_parseInt=parseInt(null!==(_process$env$STORYBOO2=Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).STORYBOOK_DHIS2_API_VERSION)&&void 0!==_process$env$STORYBOO2?_process$env$STORYBOO2:""))&&void 0!==_parseInt?_parseInt:36},loginUrl="".concat(Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).STORYBOOK_DHIS2_BASE_URL,"/dhis-web-commons-security/login.action"),meUrl="".concat(Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).STORYBOOK_DHIS2_BASE_URL,"/api/").concat(Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).STORYBOOK_DHIS2_API_VERSION,"/me?fields=id,name"),checkAuthentication=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var response;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetch(meUrl,{redirect:"error"});case 3:if(!(response=_context.sent)){_context.next=6;break}return _context.abrupt("return",200===response.status);case 6:return _context.abrupt("return",!1);case 9:return _context.prev=9,_context.t0=_context.catch(0),console.log(_context.t0),_context.abrupt("return",!1);case 13:case"end":return _context.stop()}}),_callee,null,[[0,9]])})));return function checkAuthentication(){return _ref.apply(this,arguments)}}();var preview_DHIS2Provider=function DHIS2Provider(_ref2){var children=_ref2.children;return Object(jsx_runtime.jsx)(es.a,{config:appConfig,children:children})},preview_StoryPreview=function StoryPreview(_ref3){var children=_ref3.children,_useLogin=function useLogin(){var _useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),loading=_useState2[0],setLoading=_useState2[1];return Object(react.useEffect)((function(){function _login(){return(_login=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){var data;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setLoading(!0),data=["".concat(encodeURIComponent("j_username"),"=").concat(encodeURIComponent(Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).STORYBOOK_DHIS2_USERNAME)),"".concat(encodeURIComponent("j_password"),"=").concat(encodeURIComponent(Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).STORYBOOK_DHIS2_PASSWORD))].join("&"),_context2.prev=2,_context2.next=5,checkAuthentication();case 5:if(_context2.sent){_context2.next=8;break}return _context2.next=8,fetch(loginUrl,{method:"POST",redirect:"follow",credentials:"include",mode:"no-cors",headers:{Accept:"*","Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).STORYBOOK_DHIS2_BASE_URL},body:data});case 8:_context2.next=13;break;case 10:_context2.prev=10,_context2.t0=_context2.catch(2),console.log(_context2.t0);case 13:case"end":return _context2.stop()}}),_callee2,null,[[2,10]])})))).apply(this,arguments)}(function login(){return _login.apply(this,arguments)})().then((function(){return setLoading(!1)})).catch((function(){return setLoading(!1)}))}),[]),{loading:loading}}();return _useLogin.loading?Object(jsx_runtime.jsx)("div",{style:{width:"100%",height:500},children:Object(jsx_runtime.jsx)(build_es.d,{children:Object(jsx_runtime.jsx)(build_es.g,{small:!0})})}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})},decorators=[function(Story){return Object(jsx_runtime.jsx)(preview_DHIS2Provider,{children:Object(jsx_runtime.jsx)(preview_StoryPreview,{children:Object(jsx_runtime.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:Object(jsx_runtime.jsx)(Story,{})})})})}];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},1306:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MultiStepper",(function(){return MultiStepper})),__webpack_require__.d(__webpack_exports__,"SimpleStepper",(function(){return SimpleStepper}));var objectSpread2=__webpack_require__(7),react=__webpack_require__(0),slicedToArray=__webpack_require__(31),es=__webpack_require__(8),makeStyles=__webpack_require__(1379),Stepper=__webpack_require__(1388),Step=__webpack_require__(1382),StepLabel=__webpack_require__(1386),lodash=__webpack_require__(5),jsx_runtime=__webpack_require__(2);function FullPageLoader(_ref){var text=_ref.text;return Object(jsx_runtime.jsx)("div",{className:"column center",style:{height:"100%"},children:Object(jsx_runtime.jsx)(es.d,{children:Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(es.g,{}),Object(jsx_runtime.jsx)("p",{style:{color:es.L.default},children:text})]})})})}try{FullPageLoader.displayName="FullPageLoader",FullPageLoader.__docgenInfo={description:"",displayName:"FullPageLoader",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/shared/components/FullPageLoader.tsx#FullPageLoader"]={docgenInfo:FullPageLoader.__docgenInfo,name:"FullPageLoader",path:"src/components/shared/components/FullPageLoader.tsx#FullPageLoader"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1278);function ConfigurationStepper(_ref){var _stepsManagement$labe,_stepsManagement,_stepsManagement2,stepsManagement=_ref.stepsManagement,onLastAction=_ref.onLastAction,activeStepperBackGroundColor=_ref.activeStepperBackGroundColor,onLastActionButtonName=_ref.onLastActionButtonName,_useState=Object(react.useState)(stepsManagement[0]),_useState2=Object(slicedToArray.a)(_useState,2),activeStep=_useState2[0],setActiveStep=_useState2[1],Component=activeStep.component,onNextStep=function onNextStep(){if(hasNextStep){var index=Object(lodash.findIndex)(stepsManagement,["label",activeStep.label]);index!==stepsManagement.length-1&&setActiveStep(stepsManagement[index+1])}else onLastAction()},onPreviousStep=function onPreviousStep(){var index=Object(lodash.findIndex)(stepsManagement,["label",activeStep.label]);0!==index&&setActiveStep(stepsManagement[index-1])},hasNextStep=Object(react.useMemo)((function(){return Object(lodash.findIndex)(stepsManagement,["label",activeStep.label])!==stepsManagement.length-1}),[activeStep]),hasPreviousStep=Object(react.useMemo)((function(){return Object(lodash.findIndex)(stepsManagement,["label",activeStep.label])>0}),[activeStep]),currentIndex=Object(react.useMemo)((function(){return Object(lodash.findIndex)(stepsManagement,["label",activeStep.label])}),[activeStep]),classes=Object(makeStyles.a)({root:{margin:"0 8px",padding:"8px",fontweight:"bold",height:"32px",color:"#FFFFFF",borderRadius:3,borderwidth:"2px",boxShadow:"0 3px 5px 2px transparent"}})();return Object(jsx_runtime.jsx)(react.Suspense,{fallback:Object(jsx_runtime.jsx)(FullPageLoader,{}),children:Object(jsx_runtime.jsxs)("div",{className:"column",children:[Object(jsx_runtime.jsx)(Stepper.a,{children:null==stepsManagement?void 0:stepsManagement.map((function(step){return Object(jsx_runtime.jsx)(Step.a,{id:"stepper",className:classes.root,style:step.label===activeStep.label?{background:activeStepperBackGroundColor}:void 0,active:step.label===activeStep.label,onClick:function onClick(){return setActiveStep(step)},children:Object(jsx_runtime.jsx)(StepLabel.a,{children:step.label})},"".concat(step.label,"-step"))}))}),Object(jsx_runtime.jsx)("div",{className:"row",children:Object(jsx_runtime.jsx)("div",{className:"column center",style:{flex:1},children:Object(jsx_runtime.jsxs)("div",{className:"column p-16",style:{height:"100%",justifyContent:"space-between",gap:24},children:[Object(jsx_runtime.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(jsx_runtime.jsx)(Component,{onNextStep:onNextStep,onPreviousStep:onPreviousStep})}),Object(jsx_runtime.jsxs)(es.c,{start:!0,children:[Object(jsx_runtime.jsx)(es.b,{disabled:!hasPreviousStep,onClick:onPreviousStep,children:"Previous: ".concat(null!==(_stepsManagement$labe=null===(_stepsManagement=stepsManagement[currentIndex-1])||void 0===_stepsManagement?void 0:_stepsManagement.label)&&void 0!==_stepsManagement$labe?_stepsManagement$labe:"")}),Object(jsx_runtime.jsx)(es.b,{primary:!0,disabled:!1,onClick:hasNextStep?onNextStep:onLastAction,className:"settings-next-button",dataTest:"scorecard-admin-next-button",children:hasNextStep?"Next: ".concat(null===(_stepsManagement2=stepsManagement[currentIndex+1])||void 0===_stepsManagement2?void 0:_stepsManagement2.label):onLastActionButtonName})]})]})})})]})})}try{ConfigurationStepper.displayName="ConfigurationStepper",ConfigurationStepper.__docgenInfo={description:"",displayName:"ConfigurationStepper",props:{stepsManagement:{defaultValue:null,description:"",name:"stepsManagement",required:!0,type:{name:"StepsList[]"}},onLastAction:{defaultValue:null,description:"",name:"onLastAction",required:!0,type:{name:"(value?: any) => void"}},activeStepperBackGroundColor:{defaultValue:null,description:"",name:"activeStepperBackGroundColor",required:!0,type:{name:"string"}},onCancelLastAction:{defaultValue:null,description:"",name:"onCancelLastAction",required:!0,type:{name:"(value?: any) => void"}},onLastActionButtonName:{defaultValue:null,description:"",name:"onLastActionButtonName",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ConfigurationStepper/index.tsx#ConfigurationStepper"]={docgenInfo:ConfigurationStepper.__docgenInfo,name:"ConfigurationStepper",path:"src/components/ConfigurationStepper/index.tsx#ConfigurationStepper"})}catch(__react_docgen_typescript_loader_error){}var configurationStepper_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ConfigurationStepper,Object(objectSpread2.a)({},args))},MultiStepper=configurationStepper_stories_Template.bind({});MultiStepper.args={stepsManagement:[{label:"General",component:function component(){return Object(jsx_runtime.jsx)("div",{className:"container",children:Object(jsx_runtime.jsx)("div",{className:"column text-center",children:Object(jsx_runtime.jsx)("h1",{children:"1"})})})},helpSteps:[]},{label:"Data Configuration",component:function component(){return Object(jsx_runtime.jsx)("div",{className:"container",children:Object(jsx_runtime.jsx)("div",{className:"column text-center",children:Object(jsx_runtime.jsx)("h1",{children:"2"})})})},helpSteps:[]},{label:"Highlighted Indicators",component:function component(){return Object(jsx_runtime.jsx)("div",{className:"container",children:Object(jsx_runtime.jsx)("div",{className:"column text-center",children:Object(jsx_runtime.jsx)("h1",{children:"3"})})})},helpSteps:[]},{label:"Access",component:function component(){return Object(jsx_runtime.jsx)("div",{className:"container",children:Object(jsx_runtime.jsx)("div",{className:"column text-center",children:Object(jsx_runtime.jsx)("h1",{children:"4"})})})},helpSteps:[]},{label:"Options",component:function component(){return Object(jsx_runtime.jsx)("div",{className:"container",children:Object(jsx_runtime.jsx)("div",{className:"column",children:Object(jsx_runtime.jsx)("h1",{children:"5"})})})},helpSteps:[]}],onLastAction:function onLastAction(){},onLastActionButtonName:"Save",activeStepperBackGroundColor:"#00695c"};var SimpleStepper=configurationStepper_stories_Template.bind({});SimpleStepper.args={stepsManagement:[{label:"Determinant",component:function component(){return Object(jsx_runtime.jsx)("div",{className:"container",children:Object(jsx_runtime.jsx)("div",{className:"column text-center",children:Object(jsx_runtime.jsx)("h3",{children:"Determinant "})})})},helpSteps:[]},{label:"Access",component:function component(){return Object(jsx_runtime.jsx)("div",{className:"container",children:Object(jsx_runtime.jsx)("div",{className:"column text-center",children:Object(jsx_runtime.jsx)("h3",{children:"Access "})})})},helpSteps:[]}],onLastAction:function onLastAction(){},onLastActionButtonName:"Save",activeStepperBackGroundColor:"#00695c"};__webpack_exports__.default={title:"Components/Stepper Configuration",component:ConfigurationStepper};MultiStepper.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <ConfigurationStepper {...args} />"}},MultiStepper.parameters),SimpleStepper.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <ConfigurationStepper {...args} />"}},SimpleStepper.parameters)},1307:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"PeriodSelector",(function(){return Modal_stories_PeriodSelector})),__webpack_require__.d(__webpack_exports__,"OrgUnitSelector",(function(){return Modal_stories_OrgUnitSelector}));var objectSpread2=__webpack_require__(7),react=__webpack_require__(0),slicedToArray=__webpack_require__(31),objectWithoutProperties=__webpack_require__(78),es=__webpack_require__(13),build_es=__webpack_require__(8),lodash=__webpack_require__(5),OrgUnitSelector=__webpack_require__(233),jsx_runtime=__webpack_require__(2),_excluded=["small","large","position","onClose","hide","onUpdate","updateButtonLabel","singleSelection","value"];function OrgUnitSelectorModal(_ref){var small=_ref.small,large=_ref.large,position=_ref.position,onClose=_ref.onClose,hide=_ref.hide,onUpdate=_ref.onUpdate,updateButtonLabel=_ref.updateButtonLabel,singleSelection=_ref.singleSelection,value=_ref.value,props=Object(objectWithoutProperties.a)(_ref,_excluded),_useState=Object(react.useState)(value),_useState2=Object(slicedToArray.a)(_useState,2),selectedOrgUnits=_useState2[0],setSelectedOrgUnits=_useState2[1],onSelect=Object(react.useCallback)((function(value){if(singleSelection){var _last,updatedValue=Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{orgUnits:Object(lodash.flatten)([null!==(_last=Object(lodash.last)(value.orgUnits))&&void 0!==_last?_last:[]])});setSelectedOrgUnits(updatedValue)}else setSelectedOrgUnits(value)}),[singleSelection]),onUpdateClick=Object(react.useCallback)((function(){onUpdate(selectedOrgUnits)}),[selectedOrgUnits,onUpdate]);return Object(jsx_runtime.jsxs)(build_es.v,{hide:hide,small:small,large:large,onClose:onClose,position:position,children:[Object(jsx_runtime.jsx)(build_es.y,{children:es.a.t("Select Organisation Unit(s)")}),Object(jsx_runtime.jsx)(build_es.x,{children:Object(jsx_runtime.jsx)(OrgUnitSelector.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{value:selectedOrgUnits,onUpdate:onSelect,singleSelection:singleSelection}))}),Object(jsx_runtime.jsx)(build_es.w,{children:Object(jsx_runtime.jsxs)(build_es.c,{children:[Object(jsx_runtime.jsx)(build_es.b,{onClick:onClose,children:es.a.t("Cancel")}),Object(jsx_runtime.jsx)(build_es.b,{dataTest:"modal-update-button",primary:!0,onClick:onUpdateClick,children:null!=updateButtonLabel?updateButtonLabel:es.a.t("Update")})]})})]})}try{OrgUnitSelectorModal.displayName="OrgUnitSelectorModal",OrgUnitSelectorModal.__docgenInfo={description:"",displayName:"OrgUnitSelectorModal",props:{small:{defaultValue:null,description:"",name:"small",required:!1,type:{name:"boolean"}},large:{defaultValue:null,description:"",name:"large",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"middle"'},{value:'"bottom"'}]}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},hide:{defaultValue:null,description:"",name:"hide",required:!0,type:{name:"boolean"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!1,type:{name:"((value: any) => void) & ((value: OrgUnitSelectorValue) => void)"}},updateButtonLabel:{defaultValue:null,description:"",name:"updateButtonLabel",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"OrgUnitSelectorValue"}},showLevels:{defaultValue:null,description:"",name:"showLevels",required:!1,type:{name:"boolean"}},showGroups:{defaultValue:null,description:"",name:"showGroups",required:!1,type:{name:"boolean"}},showUserOptions:{defaultValue:null,description:"",name:"showUserOptions",required:!1,type:{name:"boolean"}},singleSelection:{defaultValue:null,description:"",name:"singleSelection",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modals/components/OrgUnitSelectorModal.tsx#OrgUnitSelectorModal"]={docgenInfo:OrgUnitSelectorModal.__docgenInfo,name:"OrgUnitSelectorModal",path:"src/components/Modals/components/OrgUnitSelectorModal.tsx#OrgUnitSelectorModal"})}catch(__react_docgen_typescript_loader_error){}var PeriodSelector=__webpack_require__(234),PeriodSelectorModal_excluded=["small","large","position","onClose","hide","onUpdate","selectedPeriods","updateButtonLabel"];function PeriodSelectorModal(_ref){var small=_ref.small,large=_ref.large,position=_ref.position,onClose=_ref.onClose,hide=_ref.hide,onUpdate=_ref.onUpdate,selectedPeriods=_ref.selectedPeriods,updateButtonLabel=_ref.updateButtonLabel,props=Object(objectWithoutProperties.a)(_ref,PeriodSelectorModal_excluded),_useState=Object(react.useState)(selectedPeriods),_useState2=Object(slicedToArray.a)(_useState,2),periodState=_useState2[0],setPeriodState=_useState2[1],onSelect=Object(react.useCallback)((function(_ref2){var periods=_ref2.items;setPeriodState(periods)}),[]),onUpdateClick=Object(react.useCallback)((function(){onUpdate(periodState)}),[onUpdate,periodState]);return Object(jsx_runtime.jsxs)(build_es.v,{hide:hide,small:small,large:large,onClose:onClose,position:position,children:[Object(jsx_runtime.jsx)(build_es.y,{children:es.a.t("Select Period(s)")}),Object(jsx_runtime.jsx)(build_es.x,{children:Object(jsx_runtime.jsx)(PeriodSelector.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{selectedPeriods:periodState,onSelect:onSelect}))}),Object(jsx_runtime.jsx)(build_es.w,{children:Object(jsx_runtime.jsxs)(build_es.c,{children:[Object(jsx_runtime.jsx)(build_es.b,{onClick:onClose,children:es.a.t("Cancel")}),Object(jsx_runtime.jsx)(build_es.b,{dataTest:"modal-update-button",primary:!0,onClick:onUpdateClick,children:null!=updateButtonLabel?updateButtonLabel:es.a.t("Update")})]})})]})}try{PeriodSelectorModal.displayName="PeriodSelectorModal",PeriodSelectorModal.__docgenInfo={description:"",displayName:"PeriodSelectorModal",props:{small:{defaultValue:null,description:"",name:"small",required:!1,type:{name:"boolean"}},large:{defaultValue:null,description:"",name:"large",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"middle"'},{value:'"bottom"'}]}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},hide:{defaultValue:null,description:"",name:"hide",required:!0,type:{name:"boolean"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!0,type:{name:"(value: any) => void"}},updateButtonLabel:{defaultValue:null,description:"",name:"updateButtonLabel",required:!1,type:{name:"string"}},excludedPeriodTypes:{defaultValue:null,description:"",name:"excludedPeriodTypes",required:!1,type:{name:"string[]"}},calendar:{defaultValue:null,description:"",name:"calendar",required:!1,type:{name:"string"}},selectedPeriods:{defaultValue:null,description:"",name:"selectedPeriods",required:!1,type:{name:"Period[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"(({ items }: { items: Period[]; }) => void)"}},excludeRelativePeriods:{defaultValue:null,description:"",name:"excludeRelativePeriods",required:!1,type:{name:"boolean"}},excludeFixedPeriods:{defaultValue:null,description:"",name:"excludeFixedPeriods",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modals/components/PeriodSelectorModal.tsx#PeriodSelectorModal"]={docgenInfo:PeriodSelectorModal.__docgenInfo,name:"PeriodSelectorModal",path:"src/components/Modals/components/PeriodSelectorModal.tsx#PeriodSelectorModal"})}catch(__react_docgen_typescript_loader_error){}var Modal_stories_PeriodSelector=function PeriodTemplate(args){return Object(jsx_runtime.jsx)(PeriodSelectorModal,Object(objectSpread2.a)({},args))}.bind({});Modal_stories_PeriodSelector.args={hide:!1,onClose:function onClose(){},onUpdate:function onUpdate(value){return console.log(value)}};var Modal_stories_OrgUnitSelector=function OrgUnitTemplate(args){return Object(jsx_runtime.jsx)(OrgUnitSelectorModal,Object(objectSpread2.a)({},args))}.bind({});Modal_stories_OrgUnitSelector.args={hide:!1,onClose:function onClose(){},onUpdate:function onUpdate(value){return console.log(value)},singleSelection:!0};__webpack_exports__.default={title:"Components/Modals",components:[PeriodSelectorModal]};Modal_stories_PeriodSelector.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <PeriodSelectorModal {...args} />"}},Modal_stories_PeriodSelector.parameters),Modal_stories_OrgUnitSelector.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <OrgUnitSelectorModal {...args} />"}},Modal_stories_OrgUnitSelector.parameters)},1311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BasicDataConfigurationArea",(function(){return BasicDataConfigurationArea})),__webpack_require__.d(__webpack_exports__,"WithDeletableGroups",(function(){return WithDeletableGroups})),__webpack_require__.d(__webpack_exports__,"WithDeletableItems",(function(){return WithDeletableItems})),__webpack_require__.d(__webpack_exports__,"WithAllOptions",(function(){return WithAllOptions})),__webpack_require__.d(__webpack_exports__,"WithGroupFooter",(function(){return WithGroupFooter}));var objectSpread2=__webpack_require__(7),es=__webpack_require__(8),CustomAccordion=(__webpack_require__(0),__webpack_require__(191)),DataSource=__webpack_require__(80),jsx_runtime=__webpack_require__(2);function DataConfigurationArea(_ref){var groups=_ref.groups,onItemClick=_ref.onItemClick,editableTitle=_ref.editableTitle,onGroupTitleEdit=_ref.onGroupTitleEdit,deletableGroups=_ref.deletableGroups,onGroupDelete=_ref.onGroupDelete,onItemDelete=_ref.onItemDelete,deletableItems=_ref.deletableItems,groupFooter=_ref.groupFooter;return Object(jsx_runtime.jsx)("div",{className:"column",children:groups.map((function(_ref2){var groupId=_ref2.id,name=_ref2.name,items=_ref2.items;return Object(jsx_runtime.jsx)(CustomAccordion.a,{onDelete:onGroupDelete,deletable:deletableGroups,onTitleChange:onGroupTitleEdit,editableTitle:editableTitle,id:groupId,title:name,children:Object(jsx_runtime.jsxs)("div",{className:"column ",style:{gap:16},children:[null==items?void 0:items.map((function(item){return Object(jsx_runtime.jsx)(DataSource.a,{subLabel:item.subLabel,icon:item.icon,deletable:deletableItems,onDelete:function onDelete(id){return onItemDelete&&onItemDelete(groupId,id)},onClick:function onClick(itemId){return onItemClick(groupId,itemId)},id:item.id,label:item.name,selected:!1},"".concat(item.id,"-item"))})),Object(jsx_runtime.jsx)("div",{children:groupFooter})]})},"".concat(groupId,"-accordion"))}))})}try{DataConfigurationArea.displayName="DataConfigurationArea",DataConfigurationArea.__docgenInfo={description:"",displayName:"DataConfigurationArea",props:{groups:{defaultValue:null,description:"",name:"groups",required:!0,type:{name:"DataConfigurationAreaGroupProps[]"}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!0,type:{name:"(groupId: string, itemId: string) => void"}},editableTitle:{defaultValue:null,description:"",name:"editableTitle",required:!1,type:{name:"boolean"}},onGroupTitleEdit:{defaultValue:null,description:"",name:"onGroupTitleEdit",required:!1,type:{name:"((groupId: string, value: string) => void)"}},deletableGroups:{defaultValue:null,description:"",name:"deletableGroups",required:!1,type:{name:"boolean"}},onGroupDelete:{defaultValue:null,description:"",name:"onGroupDelete",required:!1,type:{name:"((groupId: string) => void)"}},deletableItems:{defaultValue:null,description:"",name:"deletableItems",required:!1,type:{name:"boolean"}},onItemDelete:{defaultValue:null,description:"",name:"onItemDelete",required:!1,type:{name:"((groupId: string, itemId: string) => void)"}},groupFooter:{defaultValue:null,description:"",name:"groupFooter",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataConfigurationArea/index.tsx#DataConfigurationArea"]={docgenInfo:DataConfigurationArea.__docgenInfo,name:"DataConfigurationArea",path:"src/components/DataConfigurationArea/index.tsx#DataConfigurationArea"})}catch(__react_docgen_typescript_loader_error){}var DataConfigurationArea_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(DataConfigurationArea,Object(objectSpread2.a)({},args))},DataConfigurationArea_stories_groups=[{id:"group-1",name:"Group 1",items:[{id:"item-1",name:"Item 1",icon:Object(jsx_runtime.jsx)(es.o,{}),subLabel:"Indicator"},{id:"item-2",name:"Item 2",icon:Object(jsx_runtime.jsx)(es.q,{}),subLabel:"Program Indicator"}]},{id:"group-2",name:"Group 2",items:[{id:"item-1",name:"Item 1",icon:Object(jsx_runtime.jsx)(es.o,{}),subLabel:"Indicator"},{id:"item-2",name:"Item 2",icon:Object(jsx_runtime.jsx)(es.q,{}),subLabel:"Program Indicator"}]}],BasicDataConfigurationArea=DataConfigurationArea_stories_Template.bind({});BasicDataConfigurationArea.args={groups:DataConfigurationArea_stories_groups,onItemClick:function onItemClick(id){return console.log(id)}};var WithDeletableGroups=DataConfigurationArea_stories_Template.bind({});WithDeletableGroups.args={groups:DataConfigurationArea_stories_groups,deletableGroups:!0,onItemClick:function onItemClick(id){return console.log(id)}};var WithDeletableItems=DataConfigurationArea_stories_Template.bind({});WithDeletableItems.args={groups:DataConfigurationArea_stories_groups,deletableGroups:!0,deletableItems:!0,onItemClick:function onItemClick(id){return console.log(id)}};var WithAllOptions=DataConfigurationArea_stories_Template.bind({});WithAllOptions.args={groups:DataConfigurationArea_stories_groups,deletableGroups:!0,deletableItems:!0,editableTitle:!0,onItemClick:function onItemClick(id){return console.log(id)}};var WithGroupFooter=DataConfigurationArea_stories_Template.bind({});WithGroupFooter.args={groups:DataConfigurationArea_stories_groups,deletableGroups:!0,deletableItems:!0,editableTitle:!0,onItemClick:function onItemClick(id){return console.log(id)},groupFooter:Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(es.b,{icon:Object(jsx_runtime.jsx)(es.j,{}),children:"Add Item"})})};__webpack_exports__.default={title:"Components/DataConfigurationArea/DataConfigurationArea",component:DataConfigurationArea,decorators:[function(DataConfigurationAreaStory){return Object(jsx_runtime.jsx)("div",{style:{width:"100%",height:"100%",padding:"24px"},children:Object(jsx_runtime.jsx)(DataConfigurationAreaStory,{})})}]};BasicDataConfigurationArea.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <DataConfigurationArea {...args} />"}},BasicDataConfigurationArea.parameters),WithDeletableGroups.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <DataConfigurationArea {...args} />"}},WithDeletableGroups.parameters),WithDeletableItems.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <DataConfigurationArea {...args} />"}},WithDeletableItems.parameters),WithAllOptions.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <DataConfigurationArea {...args} />"}},WithAllOptions.parameters),WithGroupFooter.parameters=Object(objectSpread2.a)({storySource:{source:"(args) => <DataConfigurationArea {...args} />"}},WithGroupFooter.parameters)},134:function(module,__webpack_exports__,__webpack_require__){"use strict";function uid(){var uid,letters="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",allowedChars="0123456789"+letters,NUMBER_OF_CODEPOINTS=allowedChars.length;uid=letters.charAt(Math.random()*letters.length);for(var i=1;i<11;++i)uid+=allowedChars.charAt(Math.random()*NUMBER_OF_CODEPOINTS);return uid}function updatePager(pager,itemListLength){var page=pager.page,pageSize=pager.pageSize;return{page:page,pageSize:pageSize,pageCount:Math.ceil(itemListLength/pageSize),total:itemListLength}}__webpack_require__.d(__webpack_exports__,"a",(function(){return uid})),__webpack_require__.d(__webpack_exports__,"b",(function(){return updatePager}))},191:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CustomAccordion}));var es=__webpack_require__(8),react=__webpack_require__(0),slicedToArray=__webpack_require__(31),build_es=__webpack_require__(13),IconButton=__webpack_require__(1314),DataConfiguration_module=__webpack_require__(391),DataConfiguration_module_default=__webpack_require__.n(DataConfiguration_module),jsx_runtime=__webpack_require__(2);function GroupTitle(_ref){var title=_ref.title,onDelete=_ref.onDelete,id=_ref.id,onEdit=_ref.onEdit,editable=_ref.editable,deletable=_ref.deletable,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),editOpen=_useState2[0],setEditOpen=_useState2[1],_useState3=Object(react.useState)(title),_useState4=Object(slicedToArray.a)(_useState3,2),editTitle=_useState4[0],setEditTitle=_useState4[1];return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(es.h,{}),Object(jsx_runtime.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:16},className:DataConfiguration_module_default.a["accordion-title-container"],children:[Object(jsx_runtime.jsx)("div",{className:"row space-between align-items-center w-100",children:Object(jsx_runtime.jsxs)("div",{style:{gap:8,width:editOpen?"100%":"auto"},className:"row align-items-center",children:[Object(jsx_runtime.jsx)("div",{className:"column w-100",children:editOpen?Object(jsx_runtime.jsx)(es.t,{fullWidth:!0,initialFocus:!0,value:editTitle,onChange:function onChange(_ref2){var value=_ref2.value;return setEditTitle(value)}}):Object(jsx_runtime.jsx)("p",{style:{margin:4},onDoubleClick:function onDoubleClick(event){event.stopPropagation(),editable&&setEditOpen(!0)},onClick:function onClick(event){return event.stopPropagation()},className:"accordion-title group-name-area",children:title})}),editOpen?null:editable?Object(jsx_runtime.jsx)(IconButton.a,{onClick:function onClick(event){event.stopPropagation(),setEditOpen(!0)},size:"small",className:DataConfiguration_module_default.a["accordion-title-edit"],children:Object(jsx_runtime.jsx)(es.r,{})}):null]})}),Object(jsx_runtime.jsx)("div",{className:"row align-items-center",children:editOpen?Object(jsx_runtime.jsxs)(es.c,{end:!0,children:[Object(jsx_runtime.jsx)(es.b,{onClick:function onSaveClick(){setEditOpen(!1),onEdit&&onEdit(id,editTitle||title)},children:build_es.a.t("Save")}),Object(jsx_runtime.jsx)(es.b,{onClick:function onClick(_,event){event.stopPropagation(),setEditOpen(!1),setEditTitle(title)},children:build_es.a.t("Cancel")})]}):deletable?Object(jsx_runtime.jsx)(es.b,{className:"delete-group-icon",onClick:function onClick(_,event){event.stopPropagation(),onDelete&&onDelete(id)},icon:Object(jsx_runtime.jsx)(es.n,{}),children:build_es.a.t("Delete")}):null})]})]})}try{GroupTitle.displayName="GroupTitle",GroupTitle.__docgenInfo={description:"",displayName:"GroupTitle",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((id: string) => void)"}},editable:{defaultValue:null,description:"",name:"editable",required:!1,type:{name:"boolean"}},deletable:{defaultValue:null,description:"",name:"deletable",required:!1,type:{name:"boolean"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"((id: string, value: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataConfigurationArea/components/CustomAccordion/components/GroupTitle.tsx#GroupTitle"]={docgenInfo:GroupTitle.__docgenInfo,name:"GroupTitle",path:"src/components/DataConfigurationArea/components/CustomAccordion/components/GroupTitle.tsx#GroupTitle"})}catch(__react_docgen_typescript_loader_error){}var withStyles=__webpack_require__(48),Accordion=__webpack_require__(1385),AccordionDetails=__webpack_require__(1384),AccordionSummary=__webpack_require__(1383),MUIAccordion_Accordion=Object(withStyles.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(Accordion.a),MUIAccordion_AccordionSummary=Object(withStyles.a)({root:{background:"#F8F9FA",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(AccordionSummary.a),MUIAccordion_AccordionDetails=Object(withStyles.a)((function(theme){return{root:{padding:theme.spacing(2)}}}))(AccordionDetails.a);function CustomAccordion(_ref){var id=_ref.id,title=_ref.title,children=_ref.children,editableTitle=_ref.editableTitle,onTitleChange=_ref.onTitleChange,deletable=_ref.deletable,onDelete=_ref.onDelete,onExpand=_ref.onExpand;return Object(jsx_runtime.jsxs)(MUIAccordion_Accordion,{style:{width:"100%"},onChange:function onChange(event,expanded){onExpand&&onExpand(id,expanded)},children:[Object(jsx_runtime.jsx)(MUIAccordion_AccordionSummary,{expandIcon:Object(jsx_runtime.jsx)(es.k,{}),children:Object(jsx_runtime.jsx)(GroupTitle,{id:id,title:title,editable:editableTitle,onEdit:onTitleChange,deletable:deletable,onDelete:onDelete})}),Object(jsx_runtime.jsx)(MUIAccordion_AccordionDetails,{children:Object(jsx_runtime.jsx)("div",{className:"column h-100 w-100 p-8",children:children})})]})}try{CustomAccordion.displayName="CustomAccordion",CustomAccordion.__docgenInfo={description:"",displayName:"CustomAccordion",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!1,type:{name:"string"}},editableTitle:{defaultValue:null,description:"",name:"editableTitle",required:!1,type:{name:"boolean"}},deletable:{defaultValue:null,description:"",name:"deletable",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((id: string) => void)"}},onTitleChange:{defaultValue:null,description:"",name:"onTitleChange",required:!1,type:{name:"((id: string, title: string) => void)"}},onExpand:{defaultValue:null,description:"",name:"onExpand",required:!1,type:{name:"((id: string, expanded: boolean) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataConfigurationArea/components/CustomAccordion/index.tsx#CustomAccordion"]={docgenInfo:CustomAccordion.__docgenInfo,name:"CustomAccordion",path:"src/components/DataConfigurationArea/components/CustomAccordion/index.tsx#CustomAccordion"})}catch(__react_docgen_typescript_loader_error){}},233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OrgUnitSelector_OrgUnitSelector}));var objectSpread2=__webpack_require__(7),es=__webpack_require__(8),react=__webpack_require__(0),toConsumableArray=__webpack_require__(45),build_es=__webpack_require__(13),lodash=__webpack_require__(5),regenerator=__webpack_require__(18),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(42),slicedToArray=__webpack_require__(31),app_runtime_build_es=__webpack_require__(93),orgUnitRootsQuery={resource:"organisationUnits",params:{fields:"id,displayName,name",userDataViewFallback:!0,paging:!1}},orgUnitLevelsQuery={resource:"organisationUnitLevels",params:{fields:["id","displayName","level"]}},orgUnitGroupsQuery={resource:"organisationUnitGroups",params:{fields:["id","displayName"]}},apiFetchOrganisationUnitRoots=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(dataEngine,onError){var orgUnitRootsData;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,dataEngine.query({orgUnitRoots:orgUnitRootsQuery},{onError:onError});case 2:return orgUnitRootsData=_context.sent,_context.abrupt("return",orgUnitRootsData.orgUnitRoots.organisationUnits);case 4:case"end":return _context.stop()}}),_callee)})));return function apiFetchOrganisationUnitRoots(_x,_x2){return _ref.apply(this,arguments)}}(),apiFetchOrganisationUnitLevels=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(dataEngine,onError){var orgUnitLevelsData;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,dataEngine.query({orgUnitLevels:orgUnitLevelsQuery},{onError:onError});case 2:return orgUnitLevelsData=_context2.sent,_context2.abrupt("return",orgUnitLevelsData.orgUnitLevels.organisationUnitLevels);case 4:case"end":return _context2.stop()}}),_callee2)})));return function apiFetchOrganisationUnitLevels(_x3,_x4){return _ref2.apply(this,arguments)}}(),apiFetchOrganisationUnitGroups=function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(dataEngine,onError){var orgUnitGroupsData;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,dataEngine.query({orgUnitGroups:orgUnitGroupsQuery},{onError:onError});case 2:return orgUnitGroupsData=_context3.sent,_context3.abrupt("return",orgUnitGroupsData.orgUnitGroups.organisationUnitGroups);case 4:case"end":return _context3.stop()}}),_callee3)})));return function apiFetchOrganisationUnitGroups(_x5,_x6){return _ref3.apply(this,arguments)}}();__webpack_require__(275),__webpack_require__(1293);var jsx_runtime=__webpack_require__(2);function OrgUnitSelector(_ref){var value=_ref.value,onUpdate=_ref.onUpdate,showLevels=_ref.showLevels,showUserOptions=_ref.showUserOptions,showGroups=_ref.showGroups,singleSelection=_ref.singleSelection,_useOrgUnitsRoot=function useOrgUnitsRoot(){var engine=Object(app_runtime_build_es.b)(),_useState=Object(react.useState)(),_useState2=Object(slicedToArray.a)(_useState,2),roots=_useState2[0],setRoots=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),loading=_useState4[0],setLoading=_useState4[1],_useState5=Object(react.useState)(),_useState6=Object(slicedToArray.a)(_useState5,2),error=_useState6[0],setError=_useState6[1];return Object(react.useEffect)((function(){function _getOrgUnits(){return(_getOrgUnits=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setLoading(!0),_context.prev=1,_context.t0=setRoots,_context.next=5,apiFetchOrganisationUnitRoots(engine);case 5:_context.t1=_context.sent,(0,_context.t0)(_context.t1),_context.next=12;break;case 9:_context.prev=9,_context.t2=_context.catch(1),setError(_context.t2);case 12:setLoading(!1);case 13:case"end":return _context.stop()}}),_callee,null,[[1,9]])})))).apply(this,arguments)}!function getOrgUnits(){_getOrgUnits.apply(this,arguments)}()}),[]),{roots:roots,loading:loading,error:error}}(),roots=_useOrgUnitsRoot.roots,error=_useOrgUnitsRoot.error,loading=_useOrgUnitsRoot.loading,_ref2=null!=value?value:{},_ref2$orgUnits=_ref2.orgUnits,selectedOrgUnits=void 0===_ref2$orgUnits?[]:_ref2$orgUnits,selectedLevels=_ref2.levels,selectedGroups=_ref2.groups,userOrgUnit=_ref2.userOrgUnit,userSubUnit=_ref2.userSubUnit,userSubX2Unit=_ref2.userSubX2Unit,_useOrgUnitLevelsAndG=function useOrgUnitLevelsAndGroups(){var engine=Object(app_runtime_build_es.b)(),_useState7=Object(react.useState)(!0),_useState8=Object(slicedToArray.a)(_useState7,2),loading=_useState8[0],setLoading=_useState8[1],_useState9=Object(react.useState)(),_useState10=Object(slicedToArray.a)(_useState9,2),error=_useState10[0],setError=_useState10[1],_useState11=Object(react.useState)([]),_useState12=Object(slicedToArray.a)(_useState11,2),levels=_useState12[0],setLevels=_useState12[1],_useState13=Object(react.useState)([]),_useState14=Object(slicedToArray.a)(_useState13,2),groups=_useState14[0],setGroups=_useState14[1];return Object(react.useEffect)((function(){function _getLevelsAndGroups(){return(_getLevelsAndGroups=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setLoading(!0),_context2.prev=1,_context2.t0=setLevels,_context2.next=5,apiFetchOrganisationUnitLevels(engine,setError);case 5:return _context2.t1=_context2.sent,(0,_context2.t0)(_context2.t1),_context2.t2=setGroups,_context2.next=10,apiFetchOrganisationUnitGroups(engine,setError);case 10:_context2.t3=_context2.sent,(0,_context2.t2)(_context2.t3),_context2.next=17;break;case 14:_context2.prev=14,_context2.t4=_context2.catch(1),setError(_context2.t4);case 17:setLoading(!1);case 18:case"end":return _context2.stop()}}),_callee2,null,[[1,14]])})))).apply(this,arguments)}!function getLevelsAndGroups(){_getLevelsAndGroups.apply(this,arguments)}()}),[]),{levels:levels,groups:groups,error:error,loading:loading}}(),groups=_useOrgUnitLevelsAndG.groups,levels=_useOrgUnitLevelsAndG.levels,levelsAndGroupsError=_useOrgUnitLevelsAndG.error,levelsAndGroupsLoading=_useOrgUnitLevelsAndG.loading;var _error$message,disableSelections=Object(react.useMemo)((function(){return userOrgUnit||userSubX2Unit||userSubUnit}),[userOrgUnit,userSubUnit,userSubX2Unit]);return error?Object(jsx_runtime.jsxs)("div",{className:"column center align-items-center",style:{height:400,width:500},children:[Object(jsx_runtime.jsx)(es.s,{style:{color:es.L.grey700}}),Object(jsx_runtime.jsx)("p",{style:{color:es.L.grey700},children:null!==(_error$message=error.message)&&void 0!==_error$message?_error$message:"Something went wrong"})]}):Object(jsx_runtime.jsx)(es.a,{minHeight:"400px",maxWidth:"700px",minWidth:"500px",children:levelsAndGroupsLoading||loading?Object(jsx_runtime.jsx)("div",{style:{minHeight:400},className:"column align-items-center center w-100 h-100",children:Object(jsx_runtime.jsx)(es.g,{small:!0})}):Object(jsx_runtime.jsxs)(react.Fragment,{children:[Object(jsx_runtime.jsxs)("div",{style:{minHeight:400,maxHeight:500,overflow:"hidden"},className:"container-bordered",children:[showUserOptions&&Object(jsx_runtime.jsxs)("div",{"data-test":"user-options-selector",style:{background:es.L.grey200},className:"row space-between p-16",children:[Object(jsx_runtime.jsx)(es.e,{dataTest:"user-org-unit",checked:userOrgUnit,onChange:function onUserOrUnitChange(_ref5){var checked=_ref5.checked;onUpdate&&onUpdate(Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{userOrgUnit:checked,orgUnits:[],levels:[],groups:[]}))},label:build_es.a.t("User organisation unit")}),Object(jsx_runtime.jsx)(es.e,{dataTest:"user-sub-org-unit",checked:userSubUnit,onChange:function onUserSubUnitsChange(_ref6){var checked=_ref6.checked;onUpdate&&onUpdate(Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{userSubUnit:checked,orgUnits:[],levels:[],groups:[]}))},label:build_es.a.t("User sub-units")}),Object(jsx_runtime.jsx)(es.e,{dataTest:"user-sub-x2-org-unit",checked:userSubX2Unit,onChange:function onUserSubX2Units(_ref7){var checked=_ref7.checked;onUpdate&&onUpdate(Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{userSubX2Unit:checked,orgUnits:[],levels:[],groups:[]}))},label:build_es.a.t("User sub-x2-units")})]}),error&&Object(jsx_runtime.jsx)(es.d,{children:Object(jsx_runtime.jsx)("p",{children:(null==error?void 0:error.message)||error.toString()})}),Object(jsx_runtime.jsxs)("div",{className:"p-16",style:{maxHeight:500,overflow:"auto"},children:[roots&&Object(jsx_runtime.jsx)("div",{style:disableSelections?{opacity:.3,cursor:"not-allowed"}:{},children:Object(jsx_runtime.jsx)(es.B,{disableSelection:disableSelections,selected:null==selectedOrgUnits?void 0:selectedOrgUnits.map((function(_ref8){return _ref8.path})),initiallyExpanded:null==selectedOrgUnits?void 0:selectedOrgUnits.map((function(_ref9){return _ref9.path})),roots:null==roots?void 0:roots.map((function(_ref10){return _ref10.id})),onChange:function onChange(orgUnit){!function isOrgUnitSelected(orgUnit){return!Object(lodash.isEmpty)(Object(lodash.find)(selectedOrgUnits,["id",null==orgUnit?void 0:orgUnit.id]))}(orgUnit)?function onSelectOrgUnit(orgUnit){onUpdate&&onUpdate(Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{orgUnits:[].concat(Object(toConsumableArray.a)(selectedOrgUnits),[{id:null==orgUnit?void 0:orgUnit.id,displayName:null==orgUnit?void 0:orgUnit.displayName,path:null==orgUnit?void 0:orgUnit.path}])}))}(orgUnit):function onDeselectOrgUnit(orgUnit){var updateValue=Object(lodash.cloneDeep)(selectedOrgUnits);Object(lodash.remove)(updateValue,["id",orgUnit.id]),onUpdate&&onUpdate(Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{orgUnits:updateValue}))}(orgUnit)},singleSelection:singleSelection})}),loading&&!error&&Object(jsx_runtime.jsx)(es.d,{children:Object(jsx_runtime.jsx)(es.g,{small:!0})})]})]}),(showLevels||showGroups)&&Object(jsx_runtime.jsxs)("div",{className:"row pt-32",style:{gap:16},children:[showLevels&&Object(jsx_runtime.jsx)("div",{"data-test":"levels-selector",className:"column w-100",children:Object(jsx_runtime.jsx)(es.z,{disabled:disableSelections||levelsAndGroupsLoading,clearable:!0,loading:levelsAndGroupsLoading,error:levelsAndGroupsError,validationText:null==levelsAndGroupsError?void 0:levelsAndGroupsError.message,onChange:function onLevelSelect(_ref3){var selected=_ref3.selected;onUpdate&&onUpdate(Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{levels:selected}))},selected:levelsAndGroupsLoading?[]:selectedLevels,clearText:build_es.a.t("Clear"),label:build_es.a.t("Select Level(s)"),children:null==levels?void 0:levels.map((function(_ref11){var displayName=_ref11.displayName,id=_ref11.id;return Object(jsx_runtime.jsx)(es.A,{dataTest:"".concat(displayName,"-option"),label:displayName,value:id},id)}))})}),showGroups&&Object(jsx_runtime.jsx)("div",{"data-test":"groups-selector",className:"column w-100",children:Object(jsx_runtime.jsx)(es.z,{disabled:disableSelections||levelsAndGroupsLoading,clearable:!0,loading:levelsAndGroupsLoading,error:levelsAndGroupsError,validationText:null==levelsAndGroupsError?void 0:levelsAndGroupsError.message,onChange:function onGroupSelect(_ref4){var selected=_ref4.selected;onUpdate&&onUpdate(Object(objectSpread2.a)(Object(objectSpread2.a)({},value),{},{groups:selected}))},selected:levelsAndGroupsLoading?[]:selectedGroups,dataTest:"select-facility-group",clearText:build_es.a.t("Clear"),label:build_es.a.t("Select Group(s)"),children:null==groups?void 0:groups.map((function(_ref12){var displayName=_ref12.displayName,id=_ref12.id;return Object(jsx_runtime.jsx)(es.A,{dataTest:"".concat(displayName,"-option"),label:displayName,value:id},id)}))})})]})]})})}try{Selector.displayName="Selector",Selector.__docgenInfo={description:"",displayName:"Selector",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"OrgUnitSelectorValue"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!1,type:{name:"((value: OrgUnitSelectorValue) => void)"}},showLevels:{defaultValue:null,description:"",name:"showLevels",required:!1,type:{name:"boolean"}},showGroups:{defaultValue:null,description:"",name:"showGroups",required:!1,type:{name:"boolean"}},showUserOptions:{defaultValue:null,description:"",name:"showUserOptions",required:!1,type:{name:"boolean"}},singleSelection:{defaultValue:null,description:"",name:"singleSelection",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/OrgUnitSelector/components/Selector.tsx#Selector"]={docgenInfo:Selector.__docgenInfo,name:"Selector",path:"src/components/OrgUnitSelector/components/Selector.tsx#Selector"})}catch(__react_docgen_typescript_loader_error){}function OrgUnitSelector_OrgUnitSelector(props){return Object(jsx_runtime.jsxs)("div",{style:{margin:4},children:[Object(jsx_runtime.jsx)(es.h,{}),Object(jsx_runtime.jsx)(OrgUnitSelector,Object(objectSpread2.a)({},props))]})}try{OrgUnitSelector_OrgUnitSelector.displayName="OrgUnitSelector",OrgUnitSelector_OrgUnitSelector.__docgenInfo={description:"",displayName:"OrgUnitSelector",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"OrgUnitSelectorValue"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!1,type:{name:"((value: OrgUnitSelectorValue) => void)"}},showLevels:{defaultValue:null,description:"",name:"showLevels",required:!1,type:{name:"boolean"}},showGroups:{defaultValue:null,description:"",name:"showGroups",required:!1,type:{name:"boolean"}},showUserOptions:{defaultValue:null,description:"",name:"showUserOptions",required:!1,type:{name:"boolean"}},singleSelection:{defaultValue:null,description:"",name:"singleSelection",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/OrgUnitSelector/index.tsx#OrgUnitSelector"]={docgenInfo:OrgUnitSelector_OrgUnitSelector.__docgenInfo,name:"OrgUnitSelector",path:"src/components/OrgUnitSelector/index.tsx#OrgUnitSelector"})}catch(__react_docgen_typescript_loader_error){}},234:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PeriodSelector}));var react=__webpack_require__(0),objectSpread2=__webpack_require__(7),toConsumableArray=__webpack_require__(45),slicedToArray=__webpack_require__(31),es=__webpack_require__(13),build_es=__webpack_require__(8),period_utilities=__webpack_require__(299),lodash=__webpack_require__(5),objectWithoutProperties=__webpack_require__(78),jsx_runtime=__webpack_require__(2),_excluded=["value","label","selected","highlighted","onDoubleClick","onClick"];function PeriodTransferOption(_ref){var value=_ref.value,label=_ref.label,selected=_ref.selected,highlighted=_ref.highlighted,_onDoubleClick=_ref.onDoubleClick,_onClick=_ref.onClick,props=Object(objectWithoutProperties.a)(_ref,_excluded),id=(null!=value?value:{}).id;return Object(jsx_runtime.jsx)("div",Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{style:{margin:4,zIndex:"auto"},onClick:function onClick(event){return _onClick({value:value,label:label},event)},onDoubleClick:function onDoubleClick(event){return _onDoubleClick({value:value,label:label},event)},children:Object(jsx_runtime.jsx)(build_es.I,{bold:highlighted,positive:highlighted||selected,dataTest:"".concat(id,"-option"),icon:Object(jsx_runtime.jsx)(build_es.l,{}),children:label},"".concat(id,"-option"))}))}try{TransferOption.displayName="TransferOption",TransferOption.__docgenInfo={description:"",displayName:"TransferOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Period"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"boolean"}},highlighted:{defaultValue:null,description:"",name:"highlighted",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(data: { value: Period; label: string; }, event: any) => void"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!0,type:{name:"(data: { value: Period; label: string; }, event: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/components/CalendarSpecificPeriodDimension/components/TransferOption.tsx#TransferOption"]={docgenInfo:TransferOption.__docgenInfo,name:"TransferOption",path:"src/components/PeriodSelector/components/CalendarSpecificPeriodDimension/components/TransferOption.tsx#TransferOption"})}catch(__react_docgen_typescript_loader_error){}var constants_calendar=__webpack_require__(89),PeriodCategories={RELATIVE:{name:es.a.t("Relative Periods"),key:"relative"},FIXED:{name:es.a.t("Fixed Periods"),key:"fixed"}};__webpack_require__(275);function CalendarSpecificPeriodSelector(_ref){var _periodInstance$get,_head,_head2,_ref10,excludedPeriodTypes=_ref.excludedPeriodTypes,calendar=_ref.calendar,onSelect=_ref.onSelect,selectedPeriods=_ref.selectedPeriods,excludeFixedPeriods=_ref.excludeFixedPeriods,excludeRelativePeriods=_ref.excludeRelativePeriods,periodInstance=(new period_utilities.Period).setCalendar(constants_calendar.a.ETHIOPIAN),_useState=Object(react.useState)((new Date).getFullYear()),_useState2=Object(slicedToArray.a)(_useState,2),year=_useState2[0],setYear=_useState2[1];Object(react.useEffect)((function(){periodInstance.setPreferences({openFuturePeriods:4,allowFuturePeriods:!0}),periodInstance.setCalendar(calendar),calendar===constants_calendar.a.ETHIOPIAN?setYear((new Date).getFullYear()-7):setYear((new Date).getFullYear())}),[calendar]);var _periodType=(null!==(_periodInstance$get=periodInstance.get())&&void 0!==_periodInstance$get?_periodInstance$get:{})._periodType,_periodTypes=(null!=_periodType?_periodType:{})._periodTypes,filteredPeriodTypes=Object(lodash.filter)(_periodTypes,(function(_ref4){var id=_ref4.id;return!excludedPeriodTypes.includes(id)})),relativePeriodTypes=Object(lodash.filter)(filteredPeriodTypes,(function(_ref5){return _ref5.id.toLowerCase().match(RegExp("relative".toLowerCase()))})),fixedPeriodTypes=Object(lodash.filter)(filteredPeriodTypes,(function(_ref6){return!_ref6.id.toLowerCase().match(RegExp("relative".toLowerCase()))})),_useState3=Object(react.useState)(null===(_head=Object(lodash.head)(relativePeriodTypes))||void 0===_head?void 0:_head.id),_useState4=Object(slicedToArray.a)(_useState3,2),selectedRelativePeriodType=_useState4[0],setSelectedRelativePeriodType=_useState4[1],_useState5=Object(react.useState)(null===(_head2=Object(lodash.head)(fixedPeriodTypes))||void 0===_head2?void 0:_head2.id),_useState6=Object(slicedToArray.a)(_useState5,2),selectedFixedPeriodType=_useState6[0],setSelectedFixedPeriodType=_useState6[1],tabs=Object(react.useMemo)((function(){var tabs=[];return Object(lodash.isEmpty)(relativePeriodTypes)||excludeRelativePeriods||tabs.push(Object(lodash.find)(Object.values(PeriodCategories),["key","relative"])),Object(lodash.isEmpty)(fixedPeriodTypes)||excludeFixedPeriods||tabs.push(Object(lodash.find)(Object.values(PeriodCategories),["key","fixed"])),tabs}),[]),_useState7=Object(react.useState)(Object(lodash.head)(tabs)),_useState8=Object(slicedToArray.a)(_useState7,2),selectedPeriodCategory=_useState8[0],setSelectedPeriodCategory=_useState8[1];Object(react.useEffect)((function(){if(excludeFixedPeriods&&excludeRelativePeriods)throw Error("Both Fixed and Relative Periods are excluded.")}),[excludeFixedPeriods,excludeRelativePeriods]);var periods=Object(react.useMemo)((function(){if(selectedPeriodCategory){if(selectedRelativePeriodType&&selectedPeriodCategory.key===PeriodCategories.RELATIVE.key)return(new period_utilities.Period).setPreferences({openFuturePeriods:4,allowFuturePeriods:!0}).setCalendar(calendar).setYear(year).setType(selectedRelativePeriodType).get().list();if(selectedFixedPeriodType&&selectedPeriodCategory.key===PeriodCategories.FIXED.key)return(new period_utilities.Period).setPreferences({openFuturePeriods:4,allowFuturePeriods:!0}).setCalendar(calendar).setYear(year).setType(selectedFixedPeriodType).get().list()}return[]}),[selectedPeriodCategory,selectedRelativePeriodType,selectedFixedPeriodType,year]);return Object(jsx_runtime.jsxs)("div",{className:"column center align-items-center w-100 m-8",children:[Object(jsx_runtime.jsx)(build_es.h,{}),Object(jsx_runtime.jsx)(build_es.K,{selected:selectedPeriods,selectedWidth:"400px",optionsWidth:"400px",height:"500px",leftHeader:Object(jsx_runtime.jsxs)("div",{className:"column pb-8",children:[Object(jsx_runtime.jsx)(build_es.H,{fixed:!0,children:null==tabs?void 0:tabs.map((function(periodCategory){return Object(jsx_runtime.jsx)(build_es.G,{dataTest:"".concat(null==periodCategory?void 0:periodCategory.key,"-tab"),onClick:function onClick(){setSelectedPeriodCategory(periodCategory)},selected:(null==selectedPeriodCategory?void 0:selectedPeriodCategory.key)===(null==periodCategory?void 0:periodCategory.key),children:null==periodCategory?void 0:periodCategory.name},"".concat(null==periodCategory?void 0:periodCategory.key,"-tab"))}))}),"relative"===(null==selectedPeriodCategory?void 0:selectedPeriodCategory.key)?Object(jsx_runtime.jsx)("div",{className:"pt-8 pb-8",children:Object(jsx_runtime.jsx)(build_es.E,{dataTest:"relative-period-type-selector",dense:!0,selected:selectedRelativePeriodType,onChange:function onChange(_ref7){var selected=_ref7.selected;return setSelectedRelativePeriodType(selected)},label:es.a.t("Period Type"),children:null==relativePeriodTypes?void 0:relativePeriodTypes.map((function(periodType){return Object(jsx_runtime.jsx)(build_es.F,{dataTest:"".concat(null==periodType?void 0:periodType.id,"-type"),label:null==periodType?void 0:periodType.name,value:null==periodType?void 0:periodType.id},null==periodType?void 0:periodType.id)}))})}):Object(jsx_runtime.jsxs)("div",{className:"row space-between align-items-center w-100 pt-8 pb-8",children:[Object(jsx_runtime.jsx)("div",{className:"w-60",children:Object(jsx_runtime.jsx)(build_es.E,{dense:!0,dataTest:"fixed-period-type-selector",selected:selectedFixedPeriodType,onChange:function onChange(_ref8){var selected=_ref8.selected;return setSelectedFixedPeriodType(selected)},label:es.a.t("Period Type"),children:null==fixedPeriodTypes?void 0:fixedPeriodTypes.map((function(periodType){return Object(jsx_runtime.jsx)(build_es.F,{dataTest:"".concat(null==periodType?void 0:periodType.id,"-type"),label:null==periodType?void 0:periodType.name,value:null==periodType?void 0:periodType.id},null==periodType?void 0:periodType.id)}))})}),Object(jsx_runtime.jsx)("div",{className:"w-40",children:Object(jsx_runtime.jsx)(build_es.u,{dataTest:"year-input",name:"year",dense:!0,label:es.a.t("Year"),type:"number",value:year,onChange:function onChange(_ref9){var value=_ref9.value;return setYear(value)}})})]})]}),options:null===(_ref10=[].concat(Object(toConsumableArray.a)(periods),Object(toConsumableArray.a)(null!=selectedPeriods?selectedPeriods:[])))||void 0===_ref10?void 0:_ref10.map((function(period){return{label:null==period?void 0:period.name,value:period,key:null==period?void 0:period.id}})),renderOption:function renderOption(options){return Object(jsx_runtime.jsx)(PeriodTransferOption,Object(objectSpread2.a)({},options))},onChange:function onChange(_ref11){var selected=_ref11.selected;onSelect&&onSelect({items:selected})}})]})}try{CalendarSpecificPeriodDimension.displayName="CalendarSpecificPeriodDimension",CalendarSpecificPeriodDimension.__docgenInfo={description:"",displayName:"CalendarSpecificPeriodDimension",props:{excludedPeriodTypes:{defaultValue:null,description:"",name:"excludedPeriodTypes",required:!0,type:{name:"string[]"}},calendar:{defaultValue:null,description:"",name:"calendar",required:!0,type:{name:"string"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"(({ items }: { items: Period[]; }) => void)"}},selectedPeriods:{defaultValue:null,description:"",name:"selectedPeriods",required:!1,type:{name:"Period[]"}},excludeRelativePeriods:{defaultValue:null,description:"",name:"excludeRelativePeriods",required:!1,type:{name:"boolean"}},excludeFixedPeriods:{defaultValue:null,description:"",name:"excludeFixedPeriods",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/components/CalendarSpecificPeriodDimension/index.tsx#CalendarSpecificPeriodDimension"]={docgenInfo:CalendarSpecificPeriodDimension.__docgenInfo,name:"CalendarSpecificPeriodDimension",path:"src/components/PeriodSelector/components/CalendarSpecificPeriodDimension/index.tsx#CalendarSpecificPeriodDimension"})}catch(__react_docgen_typescript_loader_error){}function PeriodSelector(_ref){var excludedPeriodTypes=_ref.excludedPeriodTypes,calendar=_ref.calendar,selectedPeriods=_ref.selectedPeriods,onSelect=_ref.onSelect,excludeFixedPeriods=_ref.excludeFixedPeriods,excludeRelativePeriods=_ref.excludeRelativePeriods;return Object(jsx_runtime.jsx)(CalendarSpecificPeriodSelector,{excludedPeriodTypes:null!=excludedPeriodTypes?excludedPeriodTypes:[],calendar:null!=calendar?calendar:constants_calendar.a.GREGORIAN,onSelect:onSelect,selectedPeriods:selectedPeriods,excludeFixedPeriods:excludeFixedPeriods,excludeRelativePeriods:excludeRelativePeriods})}try{PeriodSelector.displayName="PeriodSelector",PeriodSelector.__docgenInfo={description:"",displayName:"PeriodSelector",props:{excludedPeriodTypes:{defaultValue:null,description:"",name:"excludedPeriodTypes",required:!1,type:{name:"string[]"}},calendar:{defaultValue:null,description:"",name:"calendar",required:!1,type:{name:"string"}},selectedPeriods:{defaultValue:null,description:"",name:"selectedPeriods",required:!1,type:{name:"Period[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"(({ items }: { items: Period[]; }) => void)"}},excludeRelativePeriods:{defaultValue:null,description:"",name:"excludeRelativePeriods",required:!1,type:{name:"boolean"}},excludeFixedPeriods:{defaultValue:null,description:"",name:"excludeFixedPeriods",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PeriodSelector/index.tsx#PeriodSelector"]={docgenInfo:PeriodSelector.__docgenInfo,name:"PeriodSelector",path:"src/components/PeriodSelector/index.tsx#PeriodSelector"})}catch(__react_docgen_typescript_loader_error){}},275:function(module,exports,__webpack_require__){},391:function(module,exports,__webpack_require__){module.exports={"accordion-title-edit":"DataConfiguration_accordion-title-edit__3VFBj","accordion-title-container":"DataConfiguration_accordion-title-container__2I3G_"}},540:function(module,exports,__webpack_require__){},80:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DataSource}));var _dhis2_d2_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),_dhis2_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(0),__webpack_require__(2));function DataSource(_ref){var id=_ref.id,onDelete=_ref.onDelete,label=_ref.label,subLabel=_ref.subLabel,selected=_ref.selected,icon=_ref.icon,_onClick=_ref.onClick,deletable=_ref.deletable;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{id:"".concat(id,"-data-source"),onClick:function onClick(){return _onClick&&_onClick(id)},style:{border:"1px solid ".concat(_dhis2_ui__WEBPACK_IMPORTED_MODULE_1__.L.grey500),background:selected?"#B2DFDB":void 0,padding:8,width:"100%",borderRadius:2},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dhis2_ui__WEBPACK_IMPORTED_MODULE_1__.h,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"row space-between align-items-center",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"row align-items-center",style:{gap:16,paddingLeft:8},children:[icon,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"column",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("p",{style:{margin:2},children:label}),subLabel?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("p",{style:{color:_dhis2_ui__WEBPACK_IMPORTED_MODULE_1__.L.grey800,margin:2,fontSize:"0.8rem"},children:subLabel}):null]})]}),deletable&&(onDelete?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dhis2_ui__WEBPACK_IMPORTED_MODULE_1__.b,{icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dhis2_ui__WEBPACK_IMPORTED_MODULE_1__.m,{}),children:_dhis2_d2_i18n__WEBPACK_IMPORTED_MODULE_0__.a.t("Delete")}):null)]})]})}try{DataSource.displayName="DataSource",DataSource.__docgenInfo={description:"",displayName:"DataSource",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},subLabel:{defaultValue:null,description:"",name:"subLabel",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"boolean"}},deletable:{defaultValue:null,description:"",name:"deletable",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((id: string) => void)"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}},draggable:{defaultValue:null,description:"",name:"draggable",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((id: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DataConfigurationArea/components/DataSource/index.tsx#DataSource"]={docgenInfo:DataSource.__docgenInfo,name:"DataSource",path:"src/components/DataConfigurationArea/components/DataSource/index.tsx#DataSource"})}catch(__react_docgen_typescript_loader_error){}},89:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CalendarTypes}));var CalendarTypes={ETHIOPIAN:"ethiopian",GREGORIAN:"gregorian"}},911:function(module,exports,__webpack_require__){__webpack_require__(912),__webpack_require__(1068),__webpack_require__(1069),__webpack_require__(1296),__webpack_require__(1298),__webpack_require__(1308),__webpack_require__(1309),__webpack_require__(1304),__webpack_require__(1301),__webpack_require__(1310),__webpack_require__(1302),__webpack_require__(1303),__webpack_require__(1305),module.exports=__webpack_require__(1273)},978:function(module,exports){}},[[911,2,3]]]);